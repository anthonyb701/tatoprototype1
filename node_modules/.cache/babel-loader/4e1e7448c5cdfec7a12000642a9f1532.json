{"remainingRequest":"F:\\vue.js develop\\tatoproto\\tatoprototype1\\node_modules\\thread-loader\\dist\\cjs.js!F:\\vue.js develop\\tatoproto\\tatoprototype1\\node_modules\\babel-loader\\lib\\index.js!F:\\vue.js develop\\tatoproto\\tatoprototype1\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\vue.js develop\\tatoproto\\tatoprototype1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vue.js develop\\tatoproto\\tatoprototype1\\src\\components\\edit\\editdateEntry.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\vue.js develop\\tatoproto\\tatoprototype1\\src\\components\\edit\\editdateEntry.vue","mtime":1595950885668},{"path":"F:\\vue.js develop\\tatoproto\\tatoprototype1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1594980559340},{"path":"F:\\vue.js develop\\tatoproto\\tatoprototype1\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1594980572185},{"path":"F:\\vue.js develop\\tatoproto\\tatoprototype1\\node_modules\\babel-loader\\lib\\index.js","mtime":1594980559174},{"path":"F:\\vue.js develop\\tatoproto\\tatoprototype1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1594980559340},{"path":"F:\\vue.js develop\\tatoproto\\tatoprototype1\\node_modules\\vue-loader\\lib\\index.js","mtime":1594980575169}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IFsncG9zdCddLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlZGl0RGlhbG9nOiBmYWxzZSwKICAgICAgZWRpdGFibGVEYXRlOiBudWxsLAogICAgICBub3dEYXRlOiBudWxsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgb25TYXZlQ2hhbmdlczogZnVuY3Rpb24gb25TYXZlQ2hhbmdlcygpIHsKICAgICAgdmFyIG5ld0RhdGUgPSBuZXcgRGF0ZSh0aGlzLnBvc3QuZGF0ZUVudHJ5LnRvRGF0ZSgpKTsKICAgICAgdmFyIG5ld0RheSA9IG5ldyBEYXRlKHRoaXMuZWRpdGFibGVEYXRlKS5nZXRVVENEYXRlKCk7CiAgICAgIHZhciBuZXdNb250aCA9IG5ldyBEYXRlKHRoaXMuZWRpdGFibGVEYXRlKS5nZXRVVENNb250aCgpOwogICAgICB2YXIgbmV3WWVhciA9IG5ldyBEYXRlKHRoaXMuZWRpdGFibGVEYXRlKS5nZXRVVENGdWxsWWVhcigpOwogICAgICBuZXdEYXRlLnNldFVUQ0RhdGUobmV3RGF5IC0gMSk7CiAgICAgIG5ld0RhdGUuc2V0VVRDTW9udGgobmV3TW9udGgpOwogICAgICBuZXdEYXRlLnNldFVUQ0Z1bGxZZWFyKG5ld1llYXIpOwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgndXBkYXRlUG9zdCcsIHsKICAgICAgICBpZDogdGhpcy5wb3N0LmlkLAogICAgICAgIGRhdGVFbnRyeTogbmV3RGF0ZQogICAgICB9KTsKICAgIH0sCiAgICBvbkNsb3NlOiBmdW5jdGlvbiBvbkNsb3NlKCkgewogICAgICB0aGlzLmVkaXREaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy5lZGl0YWJsZURhdGUgPSB0aGlzLm5vd0RhdGU7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh0aGlzLnBvc3QuZGF0ZUVudHJ5LnRvRGF0ZSgpKTsKICAgIHZhciBkYXkgPSBkYXRlLmdldFVUQ0RhdGUoKSArIDE7CgogICAgaWYgKGRheS50b1N0cmluZygpLmxlbmd0aCA9PSAxKSB7CiAgICAgIGRheSA9ICIwIiArIGRheTsKICAgIH0KCiAgICB2YXIgbW9udGggPSBkYXRlLmdldFVUQ01vbnRoKCkgKyAxOwoKICAgIGlmIChtb250aC50b1N0cmluZygpLmxlbmd0aCA9PSAxKSB7CiAgICAgIG1vbnRoID0gIjAiICsgbW9udGg7CiAgICB9CgogICAgdmFyIHllYXIgPSBkYXRlLmdldFVUQ0Z1bGxZZWFyKCk7CiAgICB0aGlzLmVkaXRhYmxlRGF0ZSA9IHllYXIgKyAiLSIgKyBtb250aCArICItIiArIGRheTsKICAgIHRoaXMubm93RGF0ZSA9IHllYXIgKyAiLSIgKyBtb250aCArICItIiArIGRheTsKICB9Cn07"},{"version":3,"sources":["editdateEntry.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA,eAAA;AACA,EAAA,KAAA,EAAA,CAAA,MAAA,CADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,KADA;AAEA,MAAA,YAAA,EAAA,IAFA;AAGA,MAAA,OAAA,EAAA;AAHA,KAAA;AAKA,GARA;AASA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,2BACA;AACA,UAAA,OAAA,GAAA,IAAA,IAAA,CAAA,KAAA,IAAA,CAAA,SAAA,CAAA,MAAA,EAAA,CAAA;AACA,UAAA,MAAA,GAAA,IAAA,IAAA,CAAA,KAAA,YAAA,EAAA,UAAA,EAAA;AACA,UAAA,QAAA,GAAA,IAAA,IAAA,CAAA,KAAA,YAAA,EAAA,WAAA,EAAA;AACA,UAAA,OAAA,GAAA,IAAA,IAAA,CAAA,KAAA,YAAA,EAAA,cAAA,EAAA;AACA,MAAA,OAAA,CAAA,UAAA,CAAA,MAAA,GAAA,CAAA;AACA,MAAA,OAAA,CAAA,WAAA,CAAA,QAAA;AACA,MAAA,OAAA,CAAA,cAAA,CAAA,OAAA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,YAAA,EAAA;AACA,QAAA,EAAA,EAAA,KAAA,IAAA,CAAA,EADA;AAEA,QAAA,SAAA,EAAA;AAFA,OAAA;AAIA,KAbA;AAcA,IAAA,OAdA,qBAcA;AACA,WAAA,UAAA,GAAA,KAAA;AACA,WAAA,YAAA,GAAA,KAAA,OAAA;AACA;AAjBA,GATA;AA4BA,EAAA,OA5BA,qBA4BA;AACA,QAAA,IAAA,GAAA,IAAA,IAAA,CAAA,KAAA,IAAA,CAAA,SAAA,CAAA,MAAA,EAAA,CAAA;AACA,QAAA,GAAA,GAAA,IAAA,CAAA,UAAA,KAAA,CAAA;;AACA,QAAA,GAAA,CAAA,QAAA,GAAA,MAAA,IAAA,CAAA,EAAA;AACA,MAAA,GAAA,GAAA,MAAA,GAAA;AACA;;AACA,QAAA,KAAA,GAAA,IAAA,CAAA,WAAA,KAAA,CAAA;;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,MAAA,IAAA,CAAA,EAAA;AACA,MAAA,KAAA,GAAA,MAAA,KAAA;AACA;;AACA,QAAA,IAAA,GAAA,IAAA,CAAA,cAAA,EAAA;AACA,SAAA,YAAA,GAAA,IAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,GAAA;AACA,SAAA,OAAA,GAAA,IAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,GAAA;AACA;AAzCA,CAAA","sourcesContent":["<template>\r\n  <v-dialog\r\n     max-width=\"350px\"\r\n     transition=\"dialog-transition\"\r\n     v-model=\"editDialog\"\r\n  ><template v-slot:activator=\"{ on }\">\r\n        <v-btn\r\n          accent\r\n          v-on=\"on\"\r\n          class=\"blue darken-2 white--text mt-3 btn-appo-edit\"\r\n          style=\"font-size: 15px; height: 45px; margin: 0 20px\"\r\n        >\r\n        Редагувати дату поступлення\r\n        </v-btn>\r\n      </template>\r\n      <v-card>\r\n         <v-container>\r\n            <v-layout row wrap>\r\n               <v-flex xs12>\r\n                  <v-card-title >\r\n                     Відредагувати дату поступлення\r\n                  </v-card-title>\r\n               </v-flex>\r\n            </v-layout>\r\n            <v-divider></v-divider>\r\n            <v-layout row wrap>\r\n               <v-flex xs12>\r\n                  <v-date-picker v-model=\"editableDate\" style=\"width: 100%\" actions locale=\"uk-UA\">\r\n                     <template>\r\n                        <v-btn text class=\"blue--text darken-1\" @click=\"onClose\">Скасувати</v-btn>\r\n                        <v-btn text class=\"blue--text darken-1\" @click=\"onSaveChanges\">Зберегти</v-btn>\r\n                     </template>\r\n                  </v-date-picker>\r\n               </v-flex>\r\n            </v-layout>\r\n         </v-container>\r\n      </v-card> \r\n  </v-dialog>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n   props: ['post'],\r\n   data(){\r\n      return{\r\n         editDialog: false,\r\n         editableDate: null,\r\n         nowDate: null\r\n      }\r\n   },\r\n   methods: {\r\n      onSaveChanges() {\r\n         const newDate = new Date(this.post.dateEntry.toDate())\r\n         const newDay = new Date(this.editableDate).getUTCDate()\r\n         const newMonth = new Date(this.editableDate).getUTCMonth()\r\n         const newYear = new Date(this.editableDate).getUTCFullYear()\r\n         newDate.setUTCDate(newDay - 1)\r\n         newDate.setUTCMonth(newMonth)\r\n         newDate.setUTCFullYear(newYear)\r\n         this.$store.dispatch('updatePost', {\r\n            id: this.post.id,\r\n            dateEntry: newDate\r\n         })\r\n      },\r\n      onClose(){\r\n         this.editDialog = false\r\n         this.editableDate = this.nowDate\r\n      }\r\n   },\r\n   created(){\r\n            let date = new Date(this.post.dateEntry.toDate())\r\n            let day = date.getUTCDate() + 1\r\n            if (day.toString().length == 1) {\r\n                day = \"0\"+day\r\n            }\r\n            let month = date.getUTCMonth() + 1\r\n                if (month.toString().length == 1) {\r\n                    month = \"0\"+month\r\n                }\r\n            let year = date.getUTCFullYear()\r\n            this.editableDate = year+\"-\"+month+\"-\"+day\r\n            this.nowDate = year+\"-\"+month+\"-\"+day\r\n   }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"],"sourceRoot":"src/components/edit"}]}