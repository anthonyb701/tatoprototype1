{"remainingRequest":"F:\\vue.js develop\\tatoproto\\tatoprototype1\\node_modules\\thread-loader\\dist\\cjs.js!F:\\vue.js develop\\tatoproto\\tatoprototype1\\node_modules\\babel-loader\\lib\\index.js!F:\\vue.js develop\\tatoproto\\tatoprototype1\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\vue.js develop\\tatoproto\\tatoprototype1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vue.js develop\\tatoproto\\tatoprototype1\\src\\components\\appointment.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\vue.js develop\\tatoproto\\tatoprototype1\\src\\components\\appointment.vue","mtime":1598527292390},{"path":"F:\\vue.js develop\\tatoproto\\tatoprototype1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1594980559340},{"path":"F:\\vue.js develop\\tatoproto\\tatoprototype1\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1594980572185},{"path":"F:\\vue.js develop\\tatoproto\\tatoprototype1\\node_modules\\babel-loader\\lib\\index.js","mtime":1594980559174},{"path":"F:\\vue.js develop\\tatoproto\\tatoprototype1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1594980559340},{"path":"F:\\vue.js develop\\tatoproto\\tatoprototype1\\node_modules\\vue-loader\\lib\\index.js","mtime":1594980575169}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiBbJ2lkJ10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNoZWNrYm94OiAnJywKICAgICAgb25EZWxldGU6IGZhbHNlLAogICAgICB0b0RlbGV0ZTogZmFsc2UsCiAgICAgIHNob3dTdW06ICcnLAogICAgICBzaG93U3VtQWZ0ZXI6ICcnCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHNpbmdsZUFwcG9pbnRtZW50OiBmdW5jdGlvbiBzaW5nbGVBcHBvaW50bWVudCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuYXBwb2ludG1lbnQodGhpcy5pZCk7CiAgICB9LAogICAgY3VycmVudFVzZXI6IGZ1bmN0aW9uIGN1cnJlbnRVc2VyKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5vblVzZXJDaGFuZ2VkOwogICAgfSwKICAgIGlzQWRtaW46IGZ1bmN0aW9uIGlzQWRtaW4oKSB7CiAgICAgIHZhciBhZG1pbiA9ICdxZkp1ZndCZjlVZUdUVG1PdFlobmhvME1QczMyJzsKCiAgICAgIGlmICh0aGlzLmN1cnJlbnRVc2VyID09PSBhZG1pbikgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIGlzQXV0aG9yOiBmdW5jdGlvbiBpc0F1dGhvcigpIHsKICAgICAgaWYgKHRoaXMuc2luZ2xlQXBwb2ludG1lbnQuY3JlYXRvcklkID09PSB0aGlzLmN1cnJlbnRVc2VyKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9LAogICAgYWdlOiBmdW5jdGlvbiBhZ2UoKSB7CiAgICAgIHZhciBub3dEYXRlID0gbmV3IERhdGUoKTsKICAgICAgdmFyIGFnZU51bWJlciA9IChub3dEYXRlLmdldFRpbWUoKSAtIHRoaXMuc2luZ2xlQXBwb2ludG1lbnQuZGF0ZUFnZS50b0RhdGUoKS5nZXRUaW1lKCkpIC8gKDEwMDAgKiAzNjAwICogMjQgKiAzNjUpOwogICAgICBhZ2VOdW1iZXIgPSBhZ2VOdW1iZXIgLSAwLjAxMjsKICAgICAgYWdlTnVtYmVyID0gTWF0aC5mbG9vcihhZ2VOdW1iZXIpOwogICAgICByZXR1cm4gYWdlTnVtYmVyOwogICAgfSwKICAgIHN1bU9mQmVmb3JlQmVkczogZnVuY3Rpb24gc3VtT2ZCZWZvcmVCZWRzKCkgewogICAgICB2YXIgc3VtT2ZCZWRzID0gMDsKICAgICAgdmFyIG51bWJlck9mVGltZSA9IHRoaXMuc2luZ2xlQXBwb2ludG1lbnQuZGF0ZS50b0RhdGUoKS5nZXRUaW1lKCkgLSB0aGlzLnNpbmdsZUFwcG9pbnRtZW50LmRhdGVFbnRyeS50b0RhdGUoKS5nZXRUaW1lKCk7CiAgICAgIG51bWJlck9mVGltZSA9IG51bWJlck9mVGltZSAvICgxMDAwICogMzYwMCAqIDI0KTsKICAgICAgc3VtT2ZCZWRzICs9IHBhcnNlSW50KG51bWJlck9mVGltZSwgMTApOwogICAgICByZXR1cm4gc3VtT2ZCZWRzOwogICAgfSwKICAgIHN1bU9mQWZ0ZXJCZWRzOiBmdW5jdGlvbiBzdW1PZkFmdGVyQmVkcygpIHsKICAgICAgdmFyIHN1bU9mQWZ0ZXJCZWRzID0gMDsKICAgICAgdmFyIG51bWJlck9mVGltZSA9IHRoaXMuc2luZ2xlQXBwb2ludG1lbnQuZGF0ZUxlZnQudG9EYXRlKCkuZ2V0VGltZSgpIC0gdGhpcy5zaW5nbGVBcHBvaW50bWVudC5kYXRlLnRvRGF0ZSgpLmdldFRpbWUoKTsKICAgICAgbnVtYmVyT2ZUaW1lID0gbnVtYmVyT2ZUaW1lIC8gKDEwMDAgKiAzNjAwICogMjQpOwogICAgICBzdW1PZkFmdGVyQmVkcyArPSBwYXJzZUludChudW1iZXJPZlRpbWUsIDEwKTsKICAgICAgcmV0dXJuIHN1bU9mQWZ0ZXJCZWRzOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KCkgewogICAgICB0aGlzLnRvRGVsZXRlID0gdHJ1ZTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2RlbGV0ZUFwcG9pbnRtZW50JywgewogICAgICAgIGlkOiB0aGlzLmlkLAogICAgICAgIGNvdW50ZXJJZDogdGhpcy5zaW5nbGVBcHBvaW50bWVudC5jb3VudGVySWQKICAgICAgfSk7CiAgICB9LAogICAgdG9Qcm9maWxlOiBmdW5jdGlvbiB0b1Byb2ZpbGUoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvcHJvZmlsZScpLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTsKICAgIH0sCiAgICB0b0xpc3Q6IGZ1bmN0aW9uIHRvTGlzdCgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICAgIHRoaXMuJGRlc3Ryb3koKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["appointment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA,eAAA;AACA,EAAA,KAAA,EAAA,CAAA,IAAA,CADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,KAFA;AAGA,MAAA,QAAA,EAAA,KAHA;AAIA,MAAA,OAAA,EAAA,EAJA;AAKA,MAAA,YAAA,EAAA;AALA,KAAA;AAOA,GAVA;AAWA,EAAA,QAAA,EAAA;AACA,IAAA,iBADA,+BACA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,WAAA,CAAA,KAAA,EAAA,CAAA;AACA,KAHA;AAIA,IAAA,WAJA,yBAIA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,aAAA;AACA,KANA;AAOA,IAAA,OAPA,qBAOA;AACA,UAAA,KAAA,GAAA,8BAAA;;AACA,UAAA,KAAA,WAAA,KAAA,KAAA,EAAA;AACA,eAAA,IAAA;AACA,OAFA,MAEA;AACA,eAAA,KAAA;AACA;AAEA,KAfA;AAgBA,IAAA,QAhBA,sBAgBA;AACA,UAAA,KAAA,iBAAA,CAAA,SAAA,KAAA,KAAA,WAAA,EAAA;AACA,eAAA,IAAA;AACA,OAFA,MAEA;AACA,eAAA,KAAA;AACA;AACA,KAtBA;AAuBA,IAAA,GAvBA,iBAuBA;AACA,UAAA,OAAA,GAAA,IAAA,IAAA,EAAA;AACA,UAAA,SAAA,GAAA,CAAA,OAAA,CAAA,OAAA,KAAA,KAAA,iBAAA,CAAA,OAAA,CAAA,MAAA,GAAA,OAAA,EAAA,KAAA,OAAA,IAAA,GAAA,EAAA,GAAA,GAAA,CAAA;AACA,MAAA,SAAA,GAAA,SAAA,GAAA,KAAA;AACA,MAAA,SAAA,GAAA,IAAA,CAAA,KAAA,CAAA,SAAA,CAAA;AACA,aAAA,SAAA;AACA,KA7BA;AA8BA,IAAA,eA9BA,6BA8BA;AACA,UAAA,SAAA,GAAA,CAAA;AACA,UAAA,YAAA,GAAA,KAAA,iBAAA,CAAA,IAAA,CAAA,MAAA,GAAA,OAAA,KAAA,KAAA,iBAAA,CAAA,SAAA,CAAA,MAAA,GAAA,OAAA,EAAA;AACA,MAAA,YAAA,GAAA,YAAA,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA;AACA,MAAA,SAAA,IAAA,QAAA,CAAA,YAAA,EAAA,EAAA,CAAA;AACA,aAAA,SAAA;AACA,KApCA;AAqCA,IAAA,cArCA,4BAqCA;AACA,UAAA,cAAA,GAAA,CAAA;AACA,UAAA,YAAA,GAAA,KAAA,iBAAA,CAAA,QAAA,CAAA,MAAA,GAAA,OAAA,KAAA,KAAA,iBAAA,CAAA,IAAA,CAAA,MAAA,GAAA,OAAA,EAAA;AACA,MAAA,YAAA,GAAA,YAAA,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA;AACA,MAAA,cAAA,IAAA,QAAA,CAAA,YAAA,EAAA,EAAA,CAAA;AACA,aAAA,cAAA;AACA;AA3CA,GAXA;AAyDA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA,WAAA,QAAA,GAAA,IAAA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,mBAAA,EAAA;AACA,QAAA,EAAA,EAAA,KAAA,EADA;AAEA,QAAA,SAAA,EAAA,KAAA,iBAAA,CAAA;AAFA,OAAA;AAIA,KAPA;AAQA,IAAA,SARA,uBAQA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,UAAA,EAAA,KAAA,CAAA,YAAA,CAAA,CAAA;AACA,KAVA;AAWA,IAAA,MAXA,oBAWA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,GAAA,EAAA,KAAA,CAAA,YAAA,CAAA,CAAA;AACA,WAAA,QAAA;AACA;AAdA;AAzDA,CAAA","sourcesContent":["<template >\r\n  <v-layout class=\"layoutt\" v-if=\"!toDelete\">\r\n      <v-layout row wrap>\r\n          <v-flex xs12>\r\n              <button @click=\"toList\" class=\"white--text  mr-4 blue darken-1 pa-2 mb-5\">Повернутися назад</button>\r\n              <button v-if=\"true == false\" @click=\"toProfile\" class=\"white--text  blue darken-1 pa-2 mb-5\">To Profile</button>\r\n              <v-card>\r\n                  <v-card-title primary-title>\r\n                      <h3 class=\"primary--text\">Операція: {{singleAppointment.title}}</h3>\r\n                  </v-card-title>\r\n                  <v-card-text class=\"p-wrapper\">\r\n                      <p class=\"p-unit\">Дата операції: <span class=\"span-unit\">{{singleAppointment.date | dateF}}</span></p>\r\n                      <p class=\"p-unit\">Поступив: <span class=\"span-unit\">{{singleAppointment.dateEntry | dateF}}</span></p>\r\n                      <p class=\"p-unit\">Дата виписки: <span class=\"span-unit\">{{singleAppointment.dateLeft | dateF}}</span></p>\r\n                      <p class=\"p-unit\">Дата народження: <span class=\"span-unit\">{{singleAppointment.dateAge | dateF}}</span></p> \r\n                      <p class=\"p-unit\">Patient: <span class=\"span-unit\">{{singleAppointment.user.firstName}} {{singleAppointment.user.lastName}}</span></p>\r\n                      <p class=\"p-unit\">Вік: <span class=\"span-unit\">{{age}}</span></p>\r\n                      <p class=\"p-unit\">Історія хвороби: <span class=\"span-unit\">{{singleAppointment.sicknessHistory}}</span></p>\r\n                      <p class=\"p-unit\">Передопераційний діагноз: <span class=\"span-unit\">{{singleAppointment.diagnosisAfter}}</span></p>\r\n                      <p class=\"p-unit\">Кінцевий діагноз: <span class=\"span-unit\">{{singleAppointment.diagnosisUltimate}}</span></p>\r\n                      <p class=\"p-unit\">Тривалість: <span class=\"span-unit\">{{singleAppointment.duration}}</span></p>\r\n                      <p class=\"p-unit\">Первинна/ Повторна: <span class=\"span-unit\">{{singleAppointment.timeType}}</span></p>\r\n                      <p class=\"p-unit\">Планова / Ургентна: <span class=\"span-unit\">{{singleAppointment.urgencyType}}</span></p>\r\n                      <p class=\"p-unit\">Тип операції: <span class=\"span-unit\">{{singleAppointment.operationType}}</span></p>\r\n                      <p class=\"p-unit\">Тип анестезії: <span class=\"span-unit\">{{singleAppointment.anesthesiaType}}</span></p>\r\n                      <p class=\"p-unit\">Стаціонарна/ Амбулаторна: <span class=\"span-unit\">{{singleAppointment.spotType}}</span></p>\r\n                      <p class=\"p-unit\">Складність: <span class=\"span-unit\">{{singleAppointment.complication}}</span></p>\r\n                      <p class=\"p-unit\">Виписаний / Помер: <span class=\"span-unit\">{{singleAppointment.ultimateType}}</span></p>\r\n                      <p class=\"p-unit\">Ускладнення: <span class=\"span-unit\">{{singleAppointment.complexity}}</span></p>\r\n                      <p class=\"p-unit\">Гістологічне заключення: <span class=\"span-unit\">{{singleAppointment.gistoPicked}},</span> <span class=\"span-unit\">{{singleAppointment.gisto}}</span></p>\r\n                      <p class=\"p-unit\">Нозологія: <span class=\"span-unit\">{{singleAppointment.nozologia}}</span></p>\r\n                      <p class=\"p-unit\">Хірург: <span class=\"span-unit\">{{singleAppointment.surgeon}}</span></p>\r\n                      <p class=\"p-unit\">Ассистент: <span class=\"span-unit\">{{singleAppointment.assistant}}</span></p>\r\n                      <p class=\"p-unit\" v-if=\"singleAppointment.anesthesiaType !== 'Місцева'\">Анестезіолог: <span class=\"span-unit\">{{singleAppointment.anesthesiologist}}</span></p>\r\n                      <p class=\"p-unit\">Операційна сестра: <span class=\"span-unit\">{{singleAppointment.medsister}}</span></p>\r\n                      <p class=\"p-unit\">Номер Операції: <span class=\"span-unit\">{{singleAppointment.op_number_of_counter}}</span></p>\r\n                      <p class=\"p-unit\">Код Операції: <span class=\"span-unit\">{{singleAppointment.op_code}}</span></p>\r\n                      <p class=\"p-unit\">Звання: <span class=\"span-unit\">{{singleAppointment.rank}}</span></p> \r\n                      <p class=\"p-unit\">До: <span class=\"span-unit\">{{sumOfBeforeBeds}} днів</span></p>   \r\n                      <p class=\"p-unit\">Після: <span class=\"span-unit\">{{sumOfAfterBeds}} днів</span></p>     \r\n                  </v-card-text>\r\n                  <div class=\"p-wrapper\">\r\n                      <p class=\"p-unit\">Опис: <span class=\"span-unit\">{{singleAppointment.description}}</span></p>\r\n                      <edit-date   :post=\"singleAppointment\"></edit-date>\r\n                      <edit-dateentry  :post=\"singleAppointment\"></edit-dateentry>\r\n                      <edit-dateleft  :post=\"singleAppointment\"></edit-dateleft>\r\n                      <edit-dateage  :post=\"singleAppointment\"></edit-dateage>\r\n                      <edit-duration  :post=\"singleAppointment\"></edit-duration>\r\n                      <edit-details  :post=\"singleAppointment\"></edit-details>\r\n                  </div>\r\n              </v-card>\r\n              <div v-if=\"isAuthor || isAdmin\">\r\n                  <button v-if=\"!onDelete\" @click.prevent=\"onDelete = !onDelete\" class=\"white--text red pa-2 mt-3\">Видалити цю операцію</button>\r\n                    <form v-else @submit.prevent=\"onSubmit\">\r\n                  <v-checkbox\r\n                    v-model=\"checkbox\"\r\n                    value=\"1\"\r\n                    label=\"Підтвердження\"\r\n                    type=\"checkbox\"\r\n                    required\r\n                  ></v-checkbox>\r\n                  <button @click=\"onDelete = !onDelete\" class=\"white--text green pa-2 mr-3\" >Скасувати</button>\r\n                  <button type=\"submit\" class=\"white--text red pa-2\">Видалити!</button>\r\n              </form>\r\n              </div>\r\n          </v-flex>\r\n      </v-layout>\r\n  </v-layout>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n    props: ['id'],\r\n    data(){\r\n        return {\r\n            checkbox: '',\r\n            onDelete: false,\r\n            toDelete: false,\r\n            showSum: '',\r\n            showSumAfter: ''\r\n        }\r\n    },\r\n    computed: {\r\n        singleAppointment(){\r\n            return this.$store.getters.appointment(this.id)\r\n        },\r\n        currentUser(){\r\n            return this.$store.getters.onUserChanged\r\n        },\r\n        isAdmin(){  \r\n            const admin = 'qfJufwBf9UeGTTmOtYhnho0MPs32'\r\n            if(this.currentUser === admin){\r\n                return true\r\n            } else {\r\n                return false\r\n            }\r\n            \r\n        },\r\n        isAuthor(){\r\n            if(this.singleAppointment.creatorId === this.currentUser){\r\n                return true\r\n            } else {\r\n                return false\r\n            }\r\n        },\r\n        age(){\r\n            const nowDate = new Date()\r\n            let ageNumber = (nowDate.getTime() - this.singleAppointment.dateAge.toDate().getTime()) / (1000 * 3600 * 24 * 365) \r\n            ageNumber = ageNumber - 0.012\r\n            ageNumber = Math.floor(ageNumber) \r\n            return ageNumber\r\n        },\r\n    sumOfBeforeBeds() {\r\n         let sumOfBeds = 0\r\n        let numberOfTime = this.singleAppointment.date.toDate().getTime() - this.singleAppointment.dateEntry.toDate().getTime()\r\n        numberOfTime = numberOfTime / (1000 * 3600 * 24)\r\n        sumOfBeds += parseInt(numberOfTime, 10)\r\n        return sumOfBeds\r\n      },\r\n      sumOfAfterBeds() {\r\n         let sumOfAfterBeds = 0\r\n        let numberOfTime = this.singleAppointment.dateLeft.toDate().getTime() - this.singleAppointment.date.toDate().getTime()\r\n        numberOfTime = numberOfTime / (1000 * 3600 * 24)\r\n        sumOfAfterBeds += parseInt(numberOfTime, 10)\r\n        return sumOfAfterBeds\r\n      },\r\n\r\n    },\r\n    methods: {\r\n        onSubmit(){\r\n            this.toDelete = true\r\n            this.$store.dispatch('deleteAppointment', {\r\n                id: this.id,\r\n                counterId: this.singleAppointment.counterId \r\n            })\r\n        },\r\n        toProfile(){\r\n            this.$router.push('/profile').catch(()=>{})\r\n        },\r\n        toList(){\r\n            this.$router.push('/').catch(()=>{})\r\n            this.$destroy()\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scope lang=\"scss\">\r\n.layoutt{\r\n    padding: 15px;\r\n}\r\n.p-wrapper{\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    flex-direction: column;\r\n    \r\n}\r\n.v-card__text.p-wrapper{\r\n    max-height: 900px;\r\n}\r\ndiv.p-wrapper{\r\n    padding: 15px;\r\n    padding-top: 0;\r\n    margin-top: -8px;\r\n}\r\n.p-unit{\r\n    color: #000000;\r\n    display: block;\r\n    padding: 15px;\r\n    font-size: 17px;\r\n    margin: 0px 5px!important;\r\n    margin-bottom: 7px!important;\r\n    box-shadow: 0px 0px 1px 1px rgba(0,0,0,0.26);\r\n}\r\n.span-unit{\r\n    font-weight: 500;\r\n}\r\n@media (max-width: 1200px){\r\n    .v-card__text.p-wrapper{\r\n        max-height: 900px;\r\n    }\r\n}\r\n@media (max-width: 820px){\r\n    .v-card__text.p-wrapper{\r\n        max-height: 3300px;\r\n    }\r\n    \r\n}\r\n@media (max-width: 430px){\r\n    .p-unit{\r\n        padding: 15px;\r\n        font-size: 14px;\r\n    }\r\n    .p-wrapper{\r\n        padding: 4px!important;\r\n    }\r\n    .v-card__text.p-wrapper{\r\n        max-height: 4300px; \r\n    }\r\n}\r\n\r\n</style>"],"sourceRoot":"src/components"}]}