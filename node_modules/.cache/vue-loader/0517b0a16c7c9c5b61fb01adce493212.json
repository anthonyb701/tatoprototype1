{"remainingRequest":"F:\\vue.js develop\\tatoproto\\tatoprototype1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vue.js develop\\tatoproto\\tatoprototype1\\src\\components\\edit\\editdateEntry.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\vue.js develop\\tatoproto\\tatoprototype1\\src\\components\\edit\\editdateEntry.vue","mtime":1595950885668},{"path":"F:\\vue.js develop\\tatoproto\\tatoprototype1\\node_modules\\babel-loader\\lib\\index.js","mtime":1594980559174},{"path":"F:\\vue.js develop\\tatoproto\\tatoprototype1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1594980559340},{"path":"F:\\vue.js develop\\tatoproto\\tatoprototype1\\node_modules\\vue-loader\\lib\\index.js","mtime":1594980575169}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogICBwcm9wczogWydwb3N0J10sDQogICBkYXRhKCl7DQogICAgICByZXR1cm57DQogICAgICAgICBlZGl0RGlhbG9nOiBmYWxzZSwNCiAgICAgICAgIGVkaXRhYmxlRGF0ZTogbnVsbCwNCiAgICAgICAgIG5vd0RhdGU6IG51bGwNCiAgICAgIH0NCiAgIH0sDQogICBtZXRob2RzOiB7DQogICAgICBvblNhdmVDaGFuZ2VzKCkgew0KICAgICAgICAgY29uc3QgbmV3RGF0ZSA9IG5ldyBEYXRlKHRoaXMucG9zdC5kYXRlRW50cnkudG9EYXRlKCkpDQogICAgICAgICBjb25zdCBuZXdEYXkgPSBuZXcgRGF0ZSh0aGlzLmVkaXRhYmxlRGF0ZSkuZ2V0VVRDRGF0ZSgpDQogICAgICAgICBjb25zdCBuZXdNb250aCA9IG5ldyBEYXRlKHRoaXMuZWRpdGFibGVEYXRlKS5nZXRVVENNb250aCgpDQogICAgICAgICBjb25zdCBuZXdZZWFyID0gbmV3IERhdGUodGhpcy5lZGl0YWJsZURhdGUpLmdldFVUQ0Z1bGxZZWFyKCkNCiAgICAgICAgIG5ld0RhdGUuc2V0VVRDRGF0ZShuZXdEYXkgLSAxKQ0KICAgICAgICAgbmV3RGF0ZS5zZXRVVENNb250aChuZXdNb250aCkNCiAgICAgICAgIG5ld0RhdGUuc2V0VVRDRnVsbFllYXIobmV3WWVhcikNCiAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCd1cGRhdGVQb3N0Jywgew0KICAgICAgICAgICAgaWQ6IHRoaXMucG9zdC5pZCwNCiAgICAgICAgICAgIGRhdGVFbnRyeTogbmV3RGF0ZQ0KICAgICAgICAgfSkNCiAgICAgIH0sDQogICAgICBvbkNsb3NlKCl7DQogICAgICAgICB0aGlzLmVkaXREaWFsb2cgPSBmYWxzZQ0KICAgICAgICAgdGhpcy5lZGl0YWJsZURhdGUgPSB0aGlzLm5vd0RhdGUNCiAgICAgIH0NCiAgIH0sDQogICBjcmVhdGVkKCl7DQogICAgICAgICAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKHRoaXMucG9zdC5kYXRlRW50cnkudG9EYXRlKCkpDQogICAgICAgICAgICBsZXQgZGF5ID0gZGF0ZS5nZXRVVENEYXRlKCkgKyAxDQogICAgICAgICAgICBpZiAoZGF5LnRvU3RyaW5nKCkubGVuZ3RoID09IDEpIHsNCiAgICAgICAgICAgICAgICBkYXkgPSAiMCIrZGF5DQogICAgICAgICAgICB9DQogICAgICAgICAgICBsZXQgbW9udGggPSBkYXRlLmdldFVUQ01vbnRoKCkgKyAxDQogICAgICAgICAgICAgICAgaWYgKG1vbnRoLnRvU3RyaW5nKCkubGVuZ3RoID09IDEpIHsNCiAgICAgICAgICAgICAgICAgICAgbW9udGggPSAiMCIrbW9udGgNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICBsZXQgeWVhciA9IGRhdGUuZ2V0VVRDRnVsbFllYXIoKQ0KICAgICAgICAgICAgdGhpcy5lZGl0YWJsZURhdGUgPSB5ZWFyKyItIittb250aCsiLSIrZGF5DQogICAgICAgICAgICB0aGlzLm5vd0RhdGUgPSB5ZWFyKyItIittb250aCsiLSIrZGF5DQogICB9DQp9DQo="},{"version":3,"sources":["editdateEntry.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"editdateEntry.vue","sourceRoot":"src/components/edit","sourcesContent":["<template>\r\n  <v-dialog\r\n     max-width=\"350px\"\r\n     transition=\"dialog-transition\"\r\n     v-model=\"editDialog\"\r\n  ><template v-slot:activator=\"{ on }\">\r\n        <v-btn\r\n          accent\r\n          v-on=\"on\"\r\n          class=\"blue darken-2 white--text mt-3 btn-appo-edit\"\r\n          style=\"font-size: 15px; height: 45px; margin: 0 20px\"\r\n        >\r\n        Редагувати дату поступлення\r\n        </v-btn>\r\n      </template>\r\n      <v-card>\r\n         <v-container>\r\n            <v-layout row wrap>\r\n               <v-flex xs12>\r\n                  <v-card-title >\r\n                     Відредагувати дату поступлення\r\n                  </v-card-title>\r\n               </v-flex>\r\n            </v-layout>\r\n            <v-divider></v-divider>\r\n            <v-layout row wrap>\r\n               <v-flex xs12>\r\n                  <v-date-picker v-model=\"editableDate\" style=\"width: 100%\" actions locale=\"uk-UA\">\r\n                     <template>\r\n                        <v-btn text class=\"blue--text darken-1\" @click=\"onClose\">Скасувати</v-btn>\r\n                        <v-btn text class=\"blue--text darken-1\" @click=\"onSaveChanges\">Зберегти</v-btn>\r\n                     </template>\r\n                  </v-date-picker>\r\n               </v-flex>\r\n            </v-layout>\r\n         </v-container>\r\n      </v-card> \r\n  </v-dialog>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n   props: ['post'],\r\n   data(){\r\n      return{\r\n         editDialog: false,\r\n         editableDate: null,\r\n         nowDate: null\r\n      }\r\n   },\r\n   methods: {\r\n      onSaveChanges() {\r\n         const newDate = new Date(this.post.dateEntry.toDate())\r\n         const newDay = new Date(this.editableDate).getUTCDate()\r\n         const newMonth = new Date(this.editableDate).getUTCMonth()\r\n         const newYear = new Date(this.editableDate).getUTCFullYear()\r\n         newDate.setUTCDate(newDay - 1)\r\n         newDate.setUTCMonth(newMonth)\r\n         newDate.setUTCFullYear(newYear)\r\n         this.$store.dispatch('updatePost', {\r\n            id: this.post.id,\r\n            dateEntry: newDate\r\n         })\r\n      },\r\n      onClose(){\r\n         this.editDialog = false\r\n         this.editableDate = this.nowDate\r\n      }\r\n   },\r\n   created(){\r\n            let date = new Date(this.post.dateEntry.toDate())\r\n            let day = date.getUTCDate() + 1\r\n            if (day.toString().length == 1) {\r\n                day = \"0\"+day\r\n            }\r\n            let month = date.getUTCMonth() + 1\r\n                if (month.toString().length == 1) {\r\n                    month = \"0\"+month\r\n                }\r\n            let year = date.getUTCFullYear()\r\n            this.editableDate = year+\"-\"+month+\"-\"+day\r\n            this.nowDate = year+\"-\"+month+\"-\"+day\r\n   }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]}]}