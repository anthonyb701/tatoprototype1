{"remainingRequest":"F:\\vue.js develop\\tatoproto\\tatoprototype1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\vue.js develop\\tatoproto\\tatoprototype1\\src\\components\\List.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\vue.js develop\\tatoproto\\tatoprototype1\\src\\components\\List.vue","mtime":1596372508213},{"path":"F:\\vue.js develop\\tatoproto\\tatoprototype1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1594980559340},{"path":"F:\\vue.js develop\\tatoproto\\tatoprototype1\\node_modules\\babel-loader\\lib\\index.js","mtime":1594980559174},{"path":"F:\\vue.js develop\\tatoproto\\tatoprototype1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1594980559340},{"path":"F:\\vue.js develop\\tatoproto\\tatoprototype1\\node_modules\\vue-loader\\lib\\index.js","mtime":1594980575169}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogICBuYW1lOiAnbGlzdCcsDQogICBjb21wdXRlZDogew0KICAgICAgYXBwb2ludG1lbnRzKCkgew0KICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuc29ydGVkQXBwb2ludG1lbnRzDQogICAgICB9LA0KICAgICAgZmVhdHVyZWRBcHBvaW50bWVudHMoKSB7DQogICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5mZWF0dXJlZEFwcG9pbnRtZW50cw0KICAgICAgfSwNCiAgICAgIGl0ZW1zKCkgew0KICAgICAgICAgbGV0IHJldEFyciA9IFsNCiAgICAgICAgICAgICfQsdC10Lcg0YTRltC70YzRgtGA0YMnLA0KICAgICAgICAgICAgLi4udGhpcy4kc3RvcmUuZ2V0dGVycy5pdGVtcw0KICAgICAgICAgXQ0KICAgICAgICAgcmV0dXJuIHJldEFycg0KICAgICAgfSwNCiAgICAgIGFsbEFwcG9pbnRtZW50czogew0KICAgICAgICAgZ2V0KCkgew0KICAgICAgICAgICAgaWYgKHRoaXMuaXNBcmNoaXZlICE9IHRydWUpIHsNCiAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmZlYXR1cmVkQXBwb2ludG1lbnRzDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuc29ydGVkQXBwb2ludG1lbnRzDQogICAgICAgICAgICB9DQogICAgICAgICB9LA0KICAgICAgICAgc2V0KCkgew0KDQogICAgICAgICB9DQoNCiAgICAgIH0sDQogICAgICBmaWx0ZXJlZEFwcG9pbnRtZW50cygpIHsNCiAgICAgICAgIGxldCBmaWx0ZXJlZEFycmF5ID0gW10NCiAgICAgICAgIGlmICh0aGlzLnBpY2tlZFN1cmdlb24gPT09ICfQsdC10Lcg0YTRltC70YzRgtGA0YMnICYmIHRoaXMuc2VhcmNoTmFtZS50cmltKCkgPT09ICcnICYmIHRoaXMucmVhZHlEYXRlID09PSBudWxsICYmDQogICAgICAgICAgICB0aGlzLnNlYXJjaE9wX251bWJlci50cmltKCkgPT09ICcnICYmIHRoaXMucGlja2VkUmFuayA9PT0gJ9Cx0LXQtyDRhNGW0LvRjNGC0YDRgycgJiYNCiAgICAgICAgICAgIHRoaXMucmVhZHlEYXRlRW50cnkgPT09IG51bGwgJiYgdGhpcy5yZWFkeURhdGVMZWZ0ID09PSBudWxsICYmIHRoaXMuc2VhcmNoVGl0bGUudHJpbSgpID09PSAnJyAmJg0KICAgICAgICAgICAgdGhpcy5zZWFyY2hPcF9jb2RlLnRyaW0oKSA9PT0gJycgJiYgdGhpcy5zZWFyY2hDb21wbGV4aXR5LnRyaW0oKSA9PT0gJycgJiYgdGhpcy5zZWFyY2hOb3pvbG9naWEudHJpbSgpID09PSAnJyAmJg0KICAgICAgICAgICAgdGhpcy5waWNrZWRUaW1lVHlwZSA9PT0gJ9Cx0LXQtyDRhNGW0LvRjNGC0YDRgycgJiYgdGhpcy5waWNrZWRVcmdlbmN5VHlwZSA9PT0gJ9Cx0LXQtyDRhNGW0LvRjNGC0YDRgycgJiYgdGhpcy5waWNrZWRPcGVyYXRpb25UeXBlID09PSAn0LHQtdC3INGE0ZbQu9GM0YLRgNGDJyAmJg0KICAgICAgICAgICAgdGhpcy5waWNrZWRBbmVzdGhlc2lhVHlwZSA9PT0gJ9Cx0LXQtyDRhNGW0LvRjNGC0YDRgycgJiYgdGhpcy5waWNrZWRTcG90VHlwZSA9PT0gJ9Cx0LXQtyDRhNGW0LvRjNGC0YDRgycgJiYgdGhpcy5waWNla2RVbHRpbWF0ZVR5cGUgPT09ICfQsdC10Lcg0YTRltC70YzRgtGA0YMnICYmDQogICAgICAgICAgICB0aGlzLnBpY2tlZEFzc2lzdGFudCA9PT0gJ9Cx0LXQtyDRhNGW0LvRjNGC0YDRgycgJiYgdGhpcy5waWNrZWRBbmVzdGhlc2lvbG9naXN0ID09PSAn0LHQtdC3INGE0ZbQu9GM0YLRgNGDJyAmJiB0aGlzLnBpY2tlZE1lZHNpc3Rlci50cmltKCkgPT09ICfQsdC10Lcg0YTRltC70YzRgtGA0YMnDQogICAgICAgICAgICAmJiB0aGlzLnNlYXJjaEFnZS50cmltKCkgPT09ICcnICYmIHRoaXMuc2VhcmNoU2lja25lc3NIaXN0b3J5LnRyaW0oKSA9PT0gJycgJiYgdGhpcy5zZWFyY2hEaWFnbm9zaXNVbHRpbWF0ZS50cmltKCkgPT09ICcnKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5hbGxBcHBvaW50bWVudHM7DQogICAgICAgICB9IGVsc2Ugew0KDQogICAgICAgICAgICB0aGlzLmFsbEFwcG9pbnRtZW50cy5mb3JFYWNoKGFwcG9pbnQgPT4gew0KDQogICAgICAgICAgICAgICBpZiAodGhpcy5waWNrZWRTdXJnZW9uICE9PSAn0LHQtdC3INGE0ZbQu9GM0YLRgNGDJykgew0KICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGlja2VkU3VyZ2VvbiA9PT0gYXBwb2ludC5zdXJnZW9uKSB7DQogICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZEFycmF5LnB1c2goYXBwb2ludCkNCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICBmaWx0ZXJlZEFycmF5ID0gdGhpcy5hbGxBcHBvaW50bWVudHMNCiAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIC8vIHJhbmsgDQoNCiAgICAgICAgICAgIGlmICh0aGlzLnBpY2tlZFJhbmsgIT09ICfQsdC10Lcg0YTRltC70YzRgtGA0YMnKSB7DQogICAgICAgICAgICAgICBsZXQgUmFua0luZGV4ZXMgPSBbXQ0KICAgICAgICAgICAgICAgZmlsdGVyZWRBcnJheS5mb3JFYWNoKGFwcG9pbnQgPT4gew0KICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGlja2VkUmFuayAhPT0gJ9Cx0LXQtyDRhNGW0LvRjNGC0YDRgycpIHsNCiAgICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IGZpbHRlcmVkQXJyYXkuaW5kZXhPZihhcHBvaW50KQ0KICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGlja2VkUmFuayAhPT0gYXBwb2ludC5yYW5rKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBSYW5rSW5kZXhlcy5wdXNoKGluZGV4KQ0KICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgIGZpbHRlcmVkQXJyYXkgPSBmaWx0ZXJlZEFycmF5LmZpbHRlcihmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7DQogICAgICAgICAgICAgICAgICByZXR1cm4gUmFua0luZGV4ZXMuaW5kZXhPZihpbmRleCkgPT0gLTE7DQogICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy8gdGl0bGUgb3BlcmF0aW9uIA0KICAgICAgICAgICAgaWYgKHRoaXMuc2VhcmNoVGl0bGUudHJpbSgpICE9PSAnJykgew0KICAgICAgICAgICAgICAgbGV0IGFyck9mVGl0bGVJbmRleGVzID0gW10NCiAgICAgICAgICAgICAgIGZpbHRlcmVkQXJyYXkuZm9yRWFjaChhcHBvaW50ID0+IHsNCiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlYXJjaFRpdGxlLnRyaW0oKSAhPT0gJycpIHsNCg0KICAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gZmlsdGVyZWRBcnJheS5pbmRleE9mKGFwcG9pbnQpDQogICAgICAgICAgICAgICAgICAgICBpZiAoYXBwb2ludC50aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHRoaXMuc2VhcmNoVGl0bGUudG9Mb3dlckNhc2UoKSkgPT0gZmFsc2UpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFyck9mVGl0bGVJbmRleGVzLnB1c2goaW5kZXgpDQogICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgZmlsdGVyZWRBcnJheSA9IGZpbHRlcmVkQXJyYXkuZmlsdGVyKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHsNCiAgICAgICAgICAgICAgICAgIHJldHVybiBhcnJPZlRpdGxlSW5kZXhlcy5pbmRleE9mKGluZGV4KSA9PSAtMTsNCiAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8vIE9wZXJhdGlvbiBjb2RlIA0KDQogICAgICAgICAgICBpZiAodGhpcy5zZWFyY2hPcF9jb2RlLnRyaW0oKSAhPT0gJycpIHsNCiAgICAgICAgICAgICAgIGxldCBjb2RlSW5kZXhlcyA9IFtdDQogICAgICAgICAgICAgICBmaWx0ZXJlZEFycmF5LmZvckVhY2goYXBwb2ludCA9PiB7DQogICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWFyY2hPcF9jb2RlLnRyaW0oKSAhPT0gJycpIHsNCiAgICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IGZpbHRlcmVkQXJyYXkuaW5kZXhPZihhcHBvaW50KQ0KICAgICAgICAgICAgICAgICAgICAgaWYgKGFwcG9pbnQub3BfY29kZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHRoaXMuc2VhcmNoT3BfY29kZS50b0xvd2VyQ2FzZSgpKSA9PSBmYWxzZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY29kZUluZGV4ZXMucHVzaChpbmRleCkNCg0KICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgIGZpbHRlcmVkQXJyYXkgPSBmaWx0ZXJlZEFycmF5LmZpbHRlcihmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7DQogICAgICAgICAgICAgICAgICByZXR1cm4gY29kZUluZGV4ZXMuaW5kZXhPZihpbmRleCkgPT0gLTE7DQogICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyBDb21wbGV4aXR5IA0KDQogICAgICAgICAgICBpZiAodGhpcy5zZWFyY2hDb21wbGV4aXR5LnRyaW0oKSAhPT0gJycpIHsNCiAgICAgICAgICAgICAgIGxldCBhcnJPZkNvbXBsZXhpdHlJbmRleGVzID0gW10NCiAgICAgICAgICAgICAgIGZpbHRlcmVkQXJyYXkuZm9yRWFjaChhcHBvaW50ID0+IHsNCiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlYXJjaENvbXBsZXhpdHkudHJpbSgpICE9PSAnJyApIHsNCiAgICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IGZpbHRlcmVkQXJyYXkuaW5kZXhPZihhcHBvaW50KQ0KICAgICAgICAgICAgICAgICAgICAgaWYoYXBwb2ludC5jb21wbGV4aXR5ICE9IHVuZGVmaW5lZCl7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXBwb2ludC5jb21wbGV4aXR5LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModGhpcy5zZWFyY2hDb21wbGV4aXR5LnRvTG93ZXJDYXNlKCkpID09IGZhbHNlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBhcnJPZkNvbXBsZXhpdHlJbmRleGVzLnB1c2goaW5kZXgpDQogICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgYXJyT2ZDb21wbGV4aXR5SW5kZXhlcy5wdXNoKGluZGV4KQ0KICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgZmlsdGVyZWRBcnJheSA9IGZpbHRlcmVkQXJyYXkuZmlsdGVyKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHsNCiAgICAgICAgICAgICAgICAgIHJldHVybiBhcnJPZkNvbXBsZXhpdHlJbmRleGVzLmluZGV4T2YoaW5kZXgpID09IC0xOw0KICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8gbm96bG9naWENCg0KICAgICAgICAgICAgaWYgKHRoaXMuc2VhcmNoTm96b2xvZ2lhLnRyaW0oKSAhPT0gJycpIHsNCiAgICAgICAgICAgICAgIGxldCBhcnJPZk5vem9sb2dpYUluZGV4ZXMgPSBbXQ0KICAgICAgICAgICAgICAgZmlsdGVyZWRBcnJheS5mb3JFYWNoKGFwcG9pbnQgPT4gew0KICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VhcmNoTm96b2xvZ2lhLnRyaW0oKSAhPT0gJycpIHsNCiAgICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IGZpbHRlcmVkQXJyYXkuaW5kZXhPZihhcHBvaW50KQ0KICAgICAgICAgICAgICAgICAgICAgaWYgKGFwcG9pbnQubm96b2xvZ2lhLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModGhpcy5zZWFyY2hOb3pvbG9naWEudG9Mb3dlckNhc2UoKSkgPT0gZmFsc2UpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFyck9mTm96b2xvZ2lhSW5kZXhlcy5wdXNoKGluZGV4KQ0KICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgIGZpbHRlcmVkQXJyYXkgPSBmaWx0ZXJlZEFycmF5LmZpbHRlcihmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7DQogICAgICAgICAgICAgICAgICByZXR1cm4gYXJyT2ZOb3pvbG9naWFJbmRleGVzLmluZGV4T2YoaW5kZXgpID09IC0xOw0KICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8gQXNzaXN0YW50DQogICAgICAgICAgICBpZiAodGhpcy5waWNrZWRBc3Npc3RhbnQudHJpbSgpICE9PSAn0LHQtdC3INGE0ZbQu9GM0YLRgNGDJykgew0KICAgICAgICAgICAgICAgbGV0IGFzc2lzdGFudEluZGV4ZXMgPSBbXQ0KICAgICAgICAgICAgICAgZmlsdGVyZWRBcnJheS5mb3JFYWNoKGFwcG9pbnQgPT4gew0KICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGlja2VkQXNzaXN0YW50LnRyaW0oKSAhPT0gJ9Cx0LXQtyDRhNGW0LvRjNGC0YDRgycpIHsNCiAgICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IGZpbHRlcmVkQXJyYXkuaW5kZXhPZihhcHBvaW50KQ0KICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGlja2VkQXNzaXN0YW50ICE9PSBhcHBvaW50LmFzc2lzdGFudCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgYXNzaXN0YW50SW5kZXhlcy5wdXNoKGluZGV4KQ0KICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgIGZpbHRlcmVkQXJyYXkgPSBmaWx0ZXJlZEFycmF5LmZpbHRlcihmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7DQogICAgICAgICAgICAgICAgICByZXR1cm4gYXNzaXN0YW50SW5kZXhlcy5pbmRleE9mKGluZGV4KSA9PSAtMTsNCiAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8vIEFuZXN0aGVzaW9sb2dpc3QNCiAgICAgICAgICAgIGlmICh0aGlzLnBpY2tlZEFuZXN0aGVzaW9sb2dpc3QudHJpbSgpICE9PSAn0LHQtdC3INGE0ZbQu9GM0YLRgNGDJykgew0KICAgICAgICAgICAgICAgbGV0IGFuZXN0aGVzaW9sb2dpc3RJbmRleGVzID0gW10NCiAgICAgICAgICAgICAgIGZpbHRlcmVkQXJyYXkuZm9yRWFjaChhcHBvaW50ID0+IHsNCiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBpY2tlZEFuZXN0aGVzaW9sb2dpc3QudHJpbSgpICE9PSAn0LHQtdC3INGE0ZbQu9GM0YLRgNGDJykgew0KICAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gZmlsdGVyZWRBcnJheS5pbmRleE9mKGFwcG9pbnQpDQogICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5waWNrZWRBbmVzdGhlc2lvbG9naXN0ICE9PSBhcHBvaW50LmFuZXN0aGVzaW9sb2dpc3QpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFuZXN0aGVzaW9sb2dpc3RJbmRleGVzLnB1c2goaW5kZXgpDQogICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgZmlsdGVyZWRBcnJheSA9IGZpbHRlcmVkQXJyYXkuZmlsdGVyKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHsNCiAgICAgICAgICAgICAgICAgIHJldHVybiBhbmVzdGhlc2lvbG9naXN0SW5kZXhlcy5pbmRleE9mKGluZGV4KSA9PSAtMTsNCiAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8vIE1lZHNpc3Rlcg0KICAgICAgICAgICAgaWYgKHRoaXMucGlja2VkTWVkc2lzdGVyLnRyaW0oKSAhPT0gJ9Cx0LXQtyDRhNGW0LvRjNGC0YDRgycpIHsNCiAgICAgICAgICAgICAgIGxldCBtZWRzaXN0ZXJJbmRleGVzID0gW10NCiAgICAgICAgICAgICAgIGZpbHRlcmVkQXJyYXkuZm9yRWFjaChhcHBvaW50ID0+IHsNCiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBpY2tlZE1lZHNpc3Rlci50cmltKCkgIT09ICfQsdC10Lcg0YTRltC70YzRgtGA0YMnKSB7DQogICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSBmaWx0ZXJlZEFycmF5LmluZGV4T2YoYXBwb2ludCkNCiAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBpY2tlZE1lZHNpc3RlciAhPT0gYXBwb2ludC5tZWRzaXN0ZXIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lZHNpc3RlckluZGV4ZXMucHVzaChpbmRleCkNCiAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICBmaWx0ZXJlZEFycmF5ID0gZmlsdGVyZWRBcnJheS5maWx0ZXIoZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkgew0KICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lZHNpc3RlckluZGV4ZXMuaW5kZXhPZihpbmRleCkgPT0gLTE7DQogICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyB0aW1lIFR5cGUgDQoNCiAgICAgICAgICAgIGlmICh0aGlzLnBpY2tlZFRpbWVUeXBlICE9PSAn0LHQtdC3INGE0ZbQu9GM0YLRgNGDJykgew0KICAgICAgICAgICAgICAgbGV0IHRpbWVUeXBlSW5kZXhlcyA9IFtdDQogICAgICAgICAgICAgICBmaWx0ZXJlZEFycmF5LmZvckVhY2goYXBwb2ludCA9PiB7DQogICAgICAgICAgICAgICAgICBpZiAodGhpcy5waWNrZWRUaW1lVHlwZSAhPT0gJ9Cx0LXQtyDRhNGW0LvRjNGC0YDRgycpIHsNCiAgICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IGZpbHRlcmVkQXJyYXkuaW5kZXhPZihhcHBvaW50KQ0KICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGlja2VkVGltZVR5cGUgIT09IGFwcG9pbnQudGltZVR5cGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVUeXBlSW5kZXhlcy5wdXNoKGluZGV4KQ0KICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgIGZpbHRlcmVkQXJyYXkgPSBmaWx0ZXJlZEFycmF5LmZpbHRlcihmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7DQogICAgICAgICAgICAgICAgICByZXR1cm4gdGltZVR5cGVJbmRleGVzLmluZGV4T2YoaW5kZXgpID09IC0xOw0KICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8gdXJnZW5jeSB0eXBlDQoNCiAgICAgICAgICAgIGlmICh0aGlzLnBpY2tlZFVyZ2VuY3lUeXBlICE9PSAn0LHQtdC3INGE0ZbQu9GM0YLRgNGDJykgew0KICAgICAgICAgICAgICAgbGV0IHVyZ2VuY3lUeXBlSW5kZXhlcyA9IFtdDQogICAgICAgICAgICAgICBmaWx0ZXJlZEFycmF5LmZvckVhY2goYXBwb2ludCA9PiB7DQogICAgICAgICAgICAgICAgICBpZiAodGhpcy5waWNrZWRVcmdlbmN5VHlwZSAhPT0gJ9Cx0LXQtyDRhNGW0LvRjNGC0YDRgycpIHsNCiAgICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IGZpbHRlcmVkQXJyYXkuaW5kZXhPZihhcHBvaW50KQ0KICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGlja2VkVXJnZW5jeVR5cGUgIT09IGFwcG9pbnQudXJnZW5jeVR5cGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHVyZ2VuY3lUeXBlSW5kZXhlcy5wdXNoKGluZGV4KQ0KICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgIGZpbHRlcmVkQXJyYXkgPSBmaWx0ZXJlZEFycmF5LmZpbHRlcihmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7DQogICAgICAgICAgICAgICAgICByZXR1cm4gdXJnZW5jeVR5cGVJbmRleGVzLmluZGV4T2YoaW5kZXgpID09IC0xOw0KICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8gb3BlcmF0aW9uIHR5cGUNCiAgICAgICAgICAgIGlmICh0aGlzLnBpY2tlZE9wZXJhdGlvblR5cGUgIT09ICfQsdC10Lcg0YTRltC70YzRgtGA0YMnKSB7DQogICAgICAgICAgICAgICBsZXQgb3BlcmF0aW9uVHlwZUluZGV4ZXMgPSBbXQ0KICAgICAgICAgICAgICAgZmlsdGVyZWRBcnJheS5mb3JFYWNoKGFwcG9pbnQgPT4gew0KICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3BlcmF0aW9uVHlwZSAhPT0gJ9Cx0LXQtyDRhNGW0LvRjNGC0YDRgycpIHsNCiAgICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IGZpbHRlcmVkQXJyYXkuaW5kZXhPZihhcHBvaW50KQ0KICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGlja2VkT3BlcmF0aW9uVHlwZSAhPT0gYXBwb2ludC5vcGVyYXRpb25UeXBlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb25UeXBlSW5kZXhlcy5wdXNoKGluZGV4KQ0KICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgIGZpbHRlcmVkQXJyYXkgPSBmaWx0ZXJlZEFycmF5LmZpbHRlcihmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7DQogICAgICAgICAgICAgICAgICByZXR1cm4gb3BlcmF0aW9uVHlwZUluZGV4ZXMuaW5kZXhPZihpbmRleCkgPT0gLTE7DQogICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyBhbmFzdGhlc2lhIHR5cGUNCg0KICAgICAgICAgICAgaWYgKHRoaXMucGlja2VkQW5lc3RoZXNpYVR5cGUgIT09ICfQsdC10Lcg0YTRltC70YzRgtGA0YMnKSB7DQogICAgICAgICAgICAgICBsZXQgYW5lc3RoZXNpYVR5cGVJbmRleGVzID0gW10NCiAgICAgICAgICAgICAgIGZpbHRlcmVkQXJyYXkuZm9yRWFjaChhcHBvaW50ID0+IHsNCiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBpY2tlZEFuZXN0aGVzaWFUeXBlICE9PSAn0LHQtdC3INGE0ZbQu9GM0YLRgNGDJykgew0KICAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gZmlsdGVyZWRBcnJheS5pbmRleE9mKGFwcG9pbnQpDQogICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5waWNrZWRBbmVzdGhlc2lhVHlwZSAhPT0gYXBwb2ludC5hbmVzdGhlc2lhVHlwZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgYW5lc3RoZXNpYVR5cGVJbmRleGVzLnB1c2goaW5kZXgpDQogICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgZmlsdGVyZWRBcnJheSA9IGZpbHRlcmVkQXJyYXkuZmlsdGVyKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHsNCiAgICAgICAgICAgICAgICAgIHJldHVybiBhbmVzdGhlc2lhVHlwZUluZGV4ZXMuaW5kZXhPZihpbmRleCkgPT0gLTE7DQogICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyBzcG90IHR5cGUNCiAgICAgICAgICAgIGlmICh0aGlzLnBpY2tlZFNwb3RUeXBlICE9PSAn0LHQtdC3INGE0ZbQu9GM0YLRgNGDJykgew0KICAgICAgICAgICAgICAgbGV0IHNwb3RUeXBlSW5kZXhlcyA9IFtdDQogICAgICAgICAgICAgICBmaWx0ZXJlZEFycmF5LmZvckVhY2goYXBwb2ludCA9PiB7DQogICAgICAgICAgICAgICAgICBpZiAodGhpcy5waWNrZWRTcG90VHlwZSAhPT0gJ9Cx0LXQtyDRhNGW0LvRjNGC0YDRgycpIHsNCiAgICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IGZpbHRlcmVkQXJyYXkuaW5kZXhPZihhcHBvaW50KQ0KICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGlja2VkU3BvdFR5cGUgIT09IGFwcG9pbnQuc3BvdFR5cGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNwb3RUeXBlSW5kZXhlcy5wdXNoKGluZGV4KQ0KICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgIGZpbHRlcmVkQXJyYXkgPSBmaWx0ZXJlZEFycmF5LmZpbHRlcihmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7DQogICAgICAgICAgICAgICAgICByZXR1cm4gc3BvdFR5cGVJbmRleGVzLmluZGV4T2YoaW5kZXgpID09IC0xOw0KICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8gdWx0aW1hdGUgdHlwZQ0KICAgICAgICAgICAgaWYgKHRoaXMucGljZWtkVWx0aW1hdGVUeXBlICE9PSAn0LHQtdC3INGE0ZbQu9GM0YLRgNGDJykgew0KICAgICAgICAgICAgICAgbGV0IHVsdGltYXRlVHlwZUluZGV4ZXMgPSBbXQ0KICAgICAgICAgICAgICAgZmlsdGVyZWRBcnJheS5mb3JFYWNoKGFwcG9pbnQgPT4gew0KICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGljZWtkVWx0aW1hdGVUeXBlICE9PSAn0LHQtdC3INGE0ZbQu9GM0YLRgNGDJykgew0KICAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gZmlsdGVyZWRBcnJheS5pbmRleE9mKGFwcG9pbnQpDQogICAgICAgICAgICAgICAgICAgICBpZihhcHBvaW50LnVsdGltYXRlVHlwZSAhPSB1bmRlZmluZWQpew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGljZWtkVWx0aW1hdGVUeXBlICE9PSBhcHBvaW50LnVsdGltYXRlVHlwZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdWx0aW1hdGVUeXBlSW5kZXhlcy5wdXNoKGluZGV4KQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHVsdGltYXRlVHlwZUluZGV4ZXMucHVzaChpbmRleCkNCiAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgIGZpbHRlcmVkQXJyYXkgPSBmaWx0ZXJlZEFycmF5LmZpbHRlcihmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7DQogICAgICAgICAgICAgICAgICByZXR1cm4gdWx0aW1hdGVUeXBlSW5kZXhlcy5pbmRleE9mKGluZGV4KSA9PSAtMTsNCiAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8vIG5hbWUgYW5kIGxhc3ROYW1lDQogICAgICAgICAgICBpZiAodGhpcy5zZWFyY2hOYW1lLnRyaW0oKSAhPT0gJycpIHsNCiAgICAgICAgICAgICAgIGxldCBhcnJPZkluZGV4ZXMgPSBbXQ0KICAgICAgICAgICAgICAgZmlsdGVyZWRBcnJheS5mb3JFYWNoKGFwcG9pbnQgPT4gew0KICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VhcmNoTmFtZS50cmltKCkgIT09ICcnKSB7DQogICAgICAgICAgICAgICAgICAgICBsZXQgcHJpdmF0ZU5hbWUgPSBgJHthcHBvaW50LnVzZXIuZmlyc3ROYW1lfSAke2FwcG9pbnQudXNlci5sYXN0TmFtZX1gDQoNCiAgICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IGZpbHRlcmVkQXJyYXkuaW5kZXhPZihhcHBvaW50KQ0KICAgICAgICAgICAgICAgICAgICAgaWYgKHByaXZhdGVOYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModGhpcy5zZWFyY2hOYW1lLnRvTG93ZXJDYXNlKCkpID09IGZhbHNlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBhcnJPZkluZGV4ZXMucHVzaChpbmRleCkNCg0KICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgIGZpbHRlcmVkQXJyYXkgPSBmaWx0ZXJlZEFycmF5LmZpbHRlcihmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7DQogICAgICAgICAgICAgICAgICByZXR1cm4gYXJyT2ZJbmRleGVzLmluZGV4T2YoaW5kZXgpID09IC0xOw0KICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vIGFnZSANCiAgICAgICAgICAgIGlmICh0aGlzLnNlYXJjaEFnZS50cmltKCkgIT09ICcnKSB7DQogICAgICAgICAgICAgICBsZXQgYXJyT2ZBZ2VJbmRleGVzID0gW10NCiAgICAgICAgICAgICAgIGZpbHRlcmVkQXJyYXkuZm9yRWFjaChhcHBvaW50ID0+IHsNCiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlYXJjaEFnZS50cmltKCkgIT09ICcnKSB7DQoNCiAgICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IGZpbHRlcmVkQXJyYXkuaW5kZXhPZihhcHBvaW50KQ0KICAgICAgICAgICAgICAgICAgICAgaWYgKGFwcG9pbnQuYWdlLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh0aGlzLnNlYXJjaEFnZS50b0xvd2VyQ2FzZSgpKSA9PSBmYWxzZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgYXJyT2ZBZ2VJbmRleGVzLnB1c2goaW5kZXgpDQoNCiAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICBmaWx0ZXJlZEFycmF5ID0gZmlsdGVyZWRBcnJheS5maWx0ZXIoZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkgew0KICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyck9mQWdlSW5kZXhlcy5pbmRleE9mKGluZGV4KSA9PSAtMTsNCiAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9DQogICAgICAgICAgICAvLyBvcF9udW1iZXINCiAgICAgICAgICAgIGlmICh0aGlzLnNlYXJjaE9wX251bWJlci50cmltKCkgIT09ICcnKSB7DQogICAgICAgICAgICAgICBsZXQgb3BfbnVtYmVyQXJyYXkgPSBbXQ0KICAgICAgICAgICAgICAgZmlsdGVyZWRBcnJheS5mb3JFYWNoKGFwcG9pbnQgPT4gew0KICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VhcmNoT3BfbnVtYmVyLnRyaW0oKSAhPT0gJycpIHsNCiAgICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IGZpbHRlcmVkQXJyYXkuaW5kZXhPZihhcHBvaW50KQ0KICAgICAgICAgICAgICAgICAgICAgaWYoYXBwb2ludC5vcF9udW1iZXJfb2ZfY291bnRlciAhPSB1bmRlZmluZWQpew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFwcG9pbnQub3BfbnVtYmVyX29mX2NvdW50ZXIudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHRoaXMuc2VhcmNoT3BfbnVtYmVyLnRvTG93ZXJDYXNlKCkpID09IGZhbHNlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBvcF9udW1iZXJBcnJheS5wdXNoKGluZGV4KQ0KICAgICAgICAgICAgICAgICAgICAgfSANCiAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhcHBvaW50Lm9wX251bWJlcikNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwdXNoZWQnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgb3BfbnVtYmVyQXJyYXkucHVzaChpbmRleCkNCiAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgIGZpbHRlcmVkQXJyYXkgPSBmaWx0ZXJlZEFycmF5LmZpbHRlcihmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7DQogICAgICAgICAgICAgICAgICByZXR1cm4gb3BfbnVtYmVyQXJyYXkuaW5kZXhPZihpbmRleCkgPT0gLTE7DQogICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy8gc2lja25lc3MgaGlzdG9yeQ0KICAgICAgICAgICAgaWYgKHRoaXMuc2VhcmNoU2lja25lc3NIaXN0b3J5LnRyaW0oKSAhPT0gJycpIHsNCiAgICAgICAgICAgICAgIGxldCBzaWNrQXJyYXkgPSBbXQ0KICAgICAgICAgICAgICAgZmlsdGVyZWRBcnJheS5mb3JFYWNoKGFwcG9pbnQgPT4gew0KICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VhcmNoU2lja25lc3NIaXN0b3J5LnRyaW0oKSAhPT0gJycpIHsNCiAgICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IGZpbHRlcmVkQXJyYXkuaW5kZXhPZihhcHBvaW50KQ0KICAgICAgICAgICAgICAgICAgICAgaWYgKGFwcG9pbnQuc2lja25lc3NIaXN0b3J5LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModGhpcy5zZWFyY2hTaWNrbmVzc0hpc3RvcnkudG9Mb3dlckNhc2UoKSkgPT0gZmFsc2UpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNpY2tBcnJheS5wdXNoKGluZGV4KQ0KDQogICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgZmlsdGVyZWRBcnJheSA9IGZpbHRlcmVkQXJyYXkuZmlsdGVyKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHsNCiAgICAgICAgICAgICAgICAgIHJldHVybiBzaWNrQXJyYXkuaW5kZXhPZihpbmRleCkgPT0gLTE7DQogICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy8gdWx0aW1hdGUgZGlhZ25vc2lzDQogICAgICAgICAgICBpZiAodGhpcy5zZWFyY2hEaWFnbm9zaXNVbHRpbWF0ZS50cmltKCkgIT09ICcnKSB7DQogICAgICAgICAgICAgICBsZXQgZGlhZ0FycmF5ID0gW10NCiAgICAgICAgICAgICAgIGZpbHRlcmVkQXJyYXkuZm9yRWFjaChhcHBvaW50ID0+IHsNCiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlYXJjaERpYWdub3Npc1VsdGltYXRlLnRyaW0oKSAhPT0gJycpIHsNCiAgICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IGZpbHRlcmVkQXJyYXkuaW5kZXhPZihhcHBvaW50KQ0KICAgICAgICAgICAgICAgICAgICAgaWYoYXBwb2ludC5kaWFnbm9zaXNVbHRpbWF0ZSAhPSB1bmRlZmluZWQpew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFwcG9pbnQuZGlhZ25vc2lzVWx0aW1hdGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh0aGlzLnNlYXJjaERpYWdub3Npc1VsdGltYXRlLnRvTG93ZXJDYXNlKCkpID09IGZhbHNlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBkaWFnQXJyYXkucHVzaChpbmRleCkNCiAgICAgICAgICAgICAgICAgICAgIH0gDQogICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgZGlhZ0FycmF5LnB1c2goaW5kZXgpDQogICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICBmaWx0ZXJlZEFycmF5ID0gZmlsdGVyZWRBcnJheS5maWx0ZXIoZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkgew0KICAgICAgICAgICAgICAgICAgcmV0dXJuIGRpYWdBcnJheS5pbmRleE9mKGluZGV4KSA9PSAtMTsNCiAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8vIE9wZXJhdGlvbiBEYXRlDQogICAgICAgICAgICBpZiAodGhpcy5yZWFkeURhdGUgIT09IG51bGwpIHsNCiAgICAgICAgICAgICAgIGxldCBhcnJheU9mTmV4dEluZGV4ZXMgPSBbXQ0KDQogICAgICAgICAgICAgICBmaWx0ZXJlZEFycmF5LmZvckVhY2goYXBwb2ludCA9PiB7DQogICAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFkeURhdGUgIT09IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IGZpbHRlcmVkQXJyYXkuaW5kZXhPZihhcHBvaW50KQ0KICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld0RhdGUxDQogICAgICAgICAgICAgICAgICAgICBsZXQgbmV3RGF0ZTINCg0KICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhZHlEYXRlLmxlbmd0aCA8IDMgJiYgdGhpcy5yZWFkeURhdGVbMF0udG9TdHJpbmcoKS5zdWJzdHIoMCwgMTUpICE9IHRoaXMucmVhZHlEYXRlWzFdLnRvU3RyaW5nKCkuc3Vic3RyKDAsIDE1KSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0ZTEgPSBuZXcgRGF0ZSh0aGlzLnJlYWR5RGF0ZVswXSkNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGUyID0gbmV3IERhdGUodGhpcy5yZWFkeURhdGVbMV0pDQogICAgICAgICAgICAgICAgICAgICAgICBpZihkYXRlMSA8IGRhdGUyKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RhdGUxID0gZGF0ZTENCiAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RhdGUyID0gZGF0ZTINCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdEYXRlMSA9IGRhdGUyDQogICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdEYXRlMiA9IGRhdGUxDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXBwb2ludC5kYXRlLnRvRGF0ZSgpIDwgbmV3RGF0ZTF8fCBhcHBvaW50LmRhdGUudG9EYXRlKCkgPiBuZXdEYXRlMikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYXBwb2ludC5kYXRlLnRvRGF0ZSgpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5yZWFkeURhdGVbMF0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJheU9mTmV4dEluZGV4ZXMucHVzaChpbmRleCkNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZih0aGlzLnJlYWR5RGF0ZVsxXSA9PSB1bmRlZmluZWQpew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFwcG9pbnQuZGF0ZS50b0RhdGUoKS50b1N0cmluZygpLnN1YnN0cigwLCAxNSkgIT0gdGhpcy5yZWFkeURhdGUudG9TdHJpbmcoKS5zdWJzdHIoMCwgMTUpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJheU9mTmV4dEluZGV4ZXMucHVzaChpbmRleCkNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXBwb2ludC5kYXRlLnRvRGF0ZSgpLnRvU3RyaW5nKCkuc3Vic3RyKDAsIDE1KSAhPSB0aGlzLnJlYWR5RGF0ZVswXS50b1N0cmluZygpLnN1YnN0cigwLCAxNSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5T2ZOZXh0SW5kZXhlcy5wdXNoKGluZGV4KQ0KICAgICAgICAgICAgICAgICAgICAgfSANCiAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgIGZpbHRlcmVkQXJyYXkgPSBmaWx0ZXJlZEFycmF5LmZpbHRlcihmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7DQogICAgICAgICAgICAgICAgICByZXR1cm4gYXJyYXlPZk5leHRJbmRleGVzLmluZGV4T2YoaW5kZXgpID09IC0xOw0KICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8gRGF0ZSBFbnRyeQ0KDQogICAgICAgICAgICBpZiAodGhpcy5yZWFkeURhdGVFbnRyeSAhPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgbGV0IGFycmF5T2ZEYXRlRW50cnlJbmRleGVzID0gW10NCiAgICAgICAgICAgICAgIGZpbHRlcmVkQXJyYXkuZm9yRWFjaChhcHBvaW50ID0+IHsNCiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlYWR5RGF0ZUVudHJ5ICE9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSBmaWx0ZXJlZEFycmF5LmluZGV4T2YoYXBwb2ludCkNCiAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdEYXRlMQ0KICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld0RhdGUyDQogICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFkeURhdGVFbnRyeS5sZW5ndGggPCAzICYmIHRoaXMucmVhZHlEYXRlRW50cnlbMF0udG9TdHJpbmcoKS5zdWJzdHIoMCwgMTUpICE9IHRoaXMucmVhZHlEYXRlRW50cnlbMV0udG9TdHJpbmcoKS5zdWJzdHIoMCwgMTUpKSB7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGUxID0gbmV3IERhdGUodGhpcy5yZWFkeURhdGVFbnRyeVswXSkNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGUyID0gbmV3IERhdGUodGhpcy5yZWFkeURhdGVFbnRyeVsxXSkNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRhdGUxIDwgZGF0ZTIpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGF0ZTEgPSBkYXRlMQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGF0ZTIgPSBkYXRlMg0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RhdGUxID0gZGF0ZTINCiAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RhdGUyID0gZGF0ZTENCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcHBvaW50LmRhdGVFbnRyeS50b0RhdGUoKSA8IG5ld0RhdGUxIHx8IGFwcG9pbnQuZGF0ZUVudHJ5LnRvRGF0ZSgpID4gbmV3RGF0ZTIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5T2ZEYXRlRW50cnlJbmRleGVzLnB1c2goaW5kZXgpDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYodGhpcy5yZWFkeURhdGVFbnRyeVsxXSA9PSB1bmRlZmluZWQpew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFwcG9pbnQuZGF0ZUVudHJ5LnRvRGF0ZSgpLnRvU3RyaW5nKCkuc3Vic3RyKDAsIDE1KSAhPSB0aGlzLnJlYWR5RGF0ZUVudHJ5LnRvU3RyaW5nKCkuc3Vic3RyKDAsIDE1KSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXlPZkRhdGVFbnRyeUluZGV4ZXMucHVzaChpbmRleCkNCiAgICAgICAgICAgICAgICAgICAgIH0gDQogICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFwcG9pbnQuZGF0ZUVudHJ5LnRvRGF0ZSgpLnRvU3RyaW5nKCkuc3Vic3RyKDAsIDE1KSAhPSB0aGlzLnJlYWR5RGF0ZUVudHJ5WzBdLnRvU3RyaW5nKCkuc3Vic3RyKDAsIDE1KSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXlPZkRhdGVFbnRyeUluZGV4ZXMucHVzaChpbmRleCkNCiAgICAgICAgICAgICAgICAgICAgIH0gDQogICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICBmaWx0ZXJlZEFycmF5ID0gZmlsdGVyZWRBcnJheS5maWx0ZXIoZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkgew0KICAgICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5T2ZEYXRlRW50cnlJbmRleGVzLmluZGV4T2YoaW5kZXgpID09IC0xOw0KICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8gZGF0ZSBsZWZ0DQoNCiAgICAgICAgICAgIGlmICh0aGlzLnJlYWR5RGF0ZUxlZnQgIT09IG51bGwpIHsNCiAgICAgICAgICAgICAgIGxldCBhcnJheU9mRGF0ZUxlZnRJbmRleGVzID0gW10NCg0KICAgICAgICAgICAgICAgZmlsdGVyZWRBcnJheS5mb3JFYWNoKGFwcG9pbnQgPT4gew0KICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhZHlEYXRlTGVmdCAhPT0gbnVsbCB8fCBhcHBvaW50LmRhdGVMZWZ0ICE9IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gZmlsdGVyZWRBcnJheS5pbmRleE9mKGFwcG9pbnQpDQogICAgICAgICAgICAgICAgICAgICBsZXQgbmV3RGF0ZTENCiAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdEYXRlMg0KICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhZHlEYXRlTGVmdC5sZW5ndGggPCAzICYmIHRoaXMucmVhZHlEYXRlTGVmdFswXS50b1N0cmluZygpLnN1YnN0cigwLCAxNSkgIT0gdGhpcy5yZWFkeURhdGVMZWZ0WzFdLnRvU3RyaW5nKCkuc3Vic3RyKDAsIDE1KSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0ZTEgPSBuZXcgRGF0ZSh0aGlzLnJlYWR5RGF0ZUxlZnRbMF0pDQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRlMiA9IG5ldyBEYXRlKHRoaXMucmVhZHlEYXRlTGVmdFsxXSkNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRhdGUxIDwgZGF0ZTIpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGF0ZTEgPSBkYXRlMQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGF0ZTIgPSBkYXRlMg0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RhdGUxID0gZGF0ZTINCiAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RhdGUyID0gZGF0ZTENCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcHBvaW50LmRhdGVMZWZ0LnRvRGF0ZSgpIDwgbmV3RGF0ZTEgfHwgYXBwb2ludC5kYXRlTGVmdC50b0RhdGUoKSA+IG5ld0RhdGUyKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJheU9mRGF0ZUxlZnRJbmRleGVzLnB1c2goaW5kZXgpDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYodGhpcy5yZWFkeURhdGVMZWZ0WzFdID09IHVuZGVmaW5lZCl7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXBwb2ludC5kYXRlTGVmdC50b0RhdGUoKS50b1N0cmluZygpLnN1YnN0cigwLCAxNSkgIT0gdGhpcy5yZWFkeURhdGVMZWZ0LnRvU3RyaW5nKCkuc3Vic3RyKDAsIDE1KSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXlPZkRhdGVMZWZ0SW5kZXhlcy5wdXNoKGluZGV4KQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgfSBlbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFwcG9pbnQuZGF0ZUxlZnQudG9EYXRlKCkudG9TdHJpbmcoKS5zdWJzdHIoMCwgMTUpICE9IHRoaXMucmVhZHlEYXRlTGVmdFswXS50b1N0cmluZygpLnN1YnN0cigwLCAxNSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5T2ZEYXRlTGVmdEluZGV4ZXMucHVzaChpbmRleCkNCiAgICAgICAgICAgICAgICAgICAgIH0gDQogICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZihhcHBvaW50LmRhdGVMZWZ0ID09IHVuZGVmaW5lZCl7DQogICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSBmaWx0ZXJlZEFycmF5LmluZGV4T2YoYXBwb2ludCkNCiAgICAgICAgICAgICAgICAgICAgICBhcnJheU9mRGF0ZUxlZnRJbmRleGVzLnB1c2goaW5kZXgpDQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgZmlsdGVyZWRBcnJheSA9IGZpbHRlcmVkQXJyYXkuZmlsdGVyKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHsNCiAgICAgICAgICAgICAgICAgIHJldHVybiBhcnJheU9mRGF0ZUxlZnRJbmRleGVzLmluZGV4T2YoaW5kZXgpID09IC0xOw0KICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgcmV0dXJuIGZpbHRlcmVkQXJyYXkNCiAgICAgICAgIH0NCg0KICAgICAgfSwNCiAgICAgIHJhbmtJdGVtcygpIHsNCiAgICAgICAgIGxldCByZXRBcnIgPSBbDQogICAgICAgICAgICAn0LHQtdC3INGE0ZbQu9GM0YLRgNGDJywNCiAgICAgICAgICAgIC4uLnRoaXMuJHN0b3JlLmdldHRlcnMucmFua0l0ZW1zDQogICAgICAgICBdDQogICAgICAgICByZXR1cm4gcmV0QXJyDQogICAgICB9LA0KICAgICAgdGltZVR5cGVJdGVtcygpIHsNCiAgICAgICAgIGxldCByZXRBcnIgPSBbDQogICAgICAgICAgICAn0LHQtdC3INGE0ZbQu9GM0YLRgNGDJywNCiAgICAgICAgICAgIC4uLnRoaXMuJHN0b3JlLmdldHRlcnMudGltZVR5cGVJdGVtcw0KICAgICAgICAgXQ0KICAgICAgICAgcmV0dXJuIHJldEFycg0KICAgICAgfSwNCiAgICAgIHVyZ2VuY3lUeXBlSXRlbXMoKSB7DQogICAgICAgICBsZXQgcmV0QXJyID0gWw0KICAgICAgICAgICAgJ9Cx0LXQtyDRhNGW0LvRjNGC0YDRgycsDQogICAgICAgICAgICAuLi50aGlzLiRzdG9yZS5nZXR0ZXJzLnVyZ2VuY3lUeXBlSXRlbXMNCiAgICAgICAgIF0NCiAgICAgICAgIHJldHVybiByZXRBcnINCiAgICAgIH0sDQogICAgICBvcGVyYXRpb25UeXBlSXRlbXMoKSB7DQogICAgICAgICBsZXQgcmV0QXJyID0gWw0KICAgICAgICAgICAgJ9Cx0LXQtyDRhNGW0LvRjNGC0YDRgycsDQogICAgICAgICAgICAuLi50aGlzLiRzdG9yZS5nZXR0ZXJzLm9wZXJhdGlvblR5cGVJdGVtcw0KICAgICAgICAgXQ0KICAgICAgICAgcmV0dXJuIHJldEFycg0KICAgICAgfSwNCiAgICAgIGFuZXN0aGVzaWFUeXBlSXRlbXMoKSB7DQogICAgICAgICBsZXQgcmV0QXJyID0gWw0KICAgICAgICAgICAgJ9Cx0LXQtyDRhNGW0LvRjNGC0YDRgycsDQogICAgICAgICAgICAuLi50aGlzLiRzdG9yZS5nZXR0ZXJzLmFuZXN0aGVzaWFUeXBlSXRlbXMNCiAgICAgICAgIF0NCiAgICAgICAgIHJldHVybiByZXRBcnINCiAgICAgIH0sDQogICAgICBzcG90VHlwZUl0ZW1zKCkgew0KICAgICAgICAgbGV0IHJldEFyciA9IFsNCiAgICAgICAgICAgICfQsdC10Lcg0YTRltC70YzRgtGA0YMnLA0KICAgICAgICAgICAgLi4udGhpcy4kc3RvcmUuZ2V0dGVycy5zcG90VHlwZUl0ZW1zDQogICAgICAgICBdDQogICAgICAgICByZXR1cm4gcmV0QXJyDQogICAgICB9LA0KICAgICAgdWx0aW1hdGVUeXBlSXRlbXMoKSB7DQogICAgICAgICBsZXQgcmV0QXJyID0gWw0KICAgICAgICAgICAgJ9Cx0LXQtyDRhNGW0LvRjNGC0YDRgycsDQogICAgICAgICAgICAuLi50aGlzLiRzdG9yZS5nZXR0ZXJzLnVsdGltYXRlVHlwZUl0ZW1zDQogICAgICAgICBdDQogICAgICAgICByZXR1cm4gcmV0QXJyDQogICAgICB9LA0KICAgICAgYW5lc3RoZXNpb2xvZ2lzdEl0ZW1zKCkgew0KICAgICAgICAgbGV0IHJldEFyciA9IFsNCiAgICAgICAgICAgICfQsdC10Lcg0YTRltC70YzRgtGA0YMnLA0KICAgICAgICAgICAgLi4udGhpcy4kc3RvcmUuZ2V0dGVycy5hbmVzdGhlc2lvbG9naXN0SXRlbXMNCiAgICAgICAgIF0NCiAgICAgICAgIHJldHVybiByZXRBcnINCiAgICAgIH0sDQogICAgICBtZWRzaXN0ZXJJdGVtcygpIHsNCiAgICAgICAgIGxldCByZXRBcnIgPSBbDQogICAgICAgICAgICAn0LHQtdC3INGE0ZbQu9GM0YLRgNGDJywNCiAgICAgICAgICAgIC4uLnRoaXMuJHN0b3JlLmdldHRlcnMubWVkc2lzdGVySXRlbXMNCiAgICAgICAgIF0NCiAgICAgICAgIHJldHVybiByZXRBcnINCiAgICAgIH0sDQoNCiAgIH0sDQogICBtZXRob2RzOiB7DQogICAgICBvbk9wZW5TaW5nbGUoaWQpIHsNCiAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvYXBwb2ludG1lbnQvJyArIGlkKQ0KICAgICAgfSwNCiAgICAgIG9uT3BlblNpbmdsZVJlbGVhc2UoaWQpIHsNCiAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvYXBwb2ludG1lbnRSZWxlYXNlLycgKyBpZCkNCiAgICAgIH0sDQogICAgICBzdW1PZkJlZm9yZUJlZHMoKSB7DQogICAgICAgICBsZXQgc3VtT2ZCZWRzID0gMA0KICAgICAgICAgdGhpcy5maWx0ZXJlZEFwcG9pbnRtZW50cy5mb3JFYWNoKGFwcG9pbnQgPT4gew0KICAgICAgICAgICAgbGV0IG51bWJlck9mVGltZSA9IGFwcG9pbnQuZGF0ZS50b0RhdGUoKS5nZXRUaW1lKCkgLSBhcHBvaW50LmRhdGVFbnRyeS50b0RhdGUoKS5nZXRUaW1lKCkNCiAgICAgICAgICAgIG51bWJlck9mVGltZSA9IG51bWJlck9mVGltZSAvICgxMDAwICogMzYwMCAqIDI0KQ0KICAgICAgICAgICAgY29uc29sZS5sb2cobnVtYmVyT2ZUaW1lKQ0KICAgICAgICAgICAgc3VtT2ZCZWRzICs9IHBhcnNlSW50KG51bWJlck9mVGltZSwgMTApDQogICAgICAgICB9KQ0KICAgICAgICAgdGhpcy5zaG93U3VtID0gc3VtT2ZCZWRzDQogICAgICB9LA0KICAgICAgc3VtT2ZBZnRlckJlZHMoKSB7DQogICAgICAgICBsZXQgc3VtT2ZBZnRlckJlZHMgPSAwDQogICAgICAgICB0aGlzLmZpbHRlcmVkQXBwb2ludG1lbnRzLmZvckVhY2goYXBwb2ludCA9PiB7DQogICAgICAgICAgICBsZXQgbnVtYmVyT2ZUaW1lID0gYXBwb2ludC5kYXRlTGVmdC50b0RhdGUoKS5nZXRUaW1lKCkgLSBhcHBvaW50LmRhdGUudG9EYXRlKCkuZ2V0VGltZSgpDQogICAgICAgICAgICBudW1iZXJPZlRpbWUgPSBudW1iZXJPZlRpbWUgLyAoMTAwMCAqIDM2MDAgKiAyNCkNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKG51bWJlck9mVGltZSkNCiAgICAgICAgICAgIHN1bU9mQWZ0ZXJCZWRzICs9IHBhcnNlSW50KG51bWJlck9mVGltZSwgMTApDQogICAgICAgICB9KQ0KICAgICAgICAgdGhpcy5zaG93U3VtQWZ0ZXIgPSBzdW1PZkFmdGVyQmVkcw0KICAgICAgfSwNCiAgICAgIG9uQXJjaGl2ZSgpIHsNCiAgICAgICAgIHRoaXMuaXNBcmNoaXZlID0gIXRoaXMuaXNBcmNoaXZlDQogICAgICB9LA0KICAgICAgb25DbG9zZSgpIHsNCiAgICAgICAgIGlmICh0aGlzLmVkaXREaWFsb2cpIHsNCiAgICAgICAgICAgIHRoaXMucGlja2VkRGF0ZSA9IFtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKV0NCiAgICAgICAgICAgIHRoaXMuZWRpdERpYWxvZyA9IGZhbHNlDQogICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZWRpdERpYWxvZzEpIHsNCiAgICAgICAgICAgIHRoaXMucGlja2VkRGF0ZUVudHJ5ID0gW25ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApXQ0KICAgICAgICAgICAgdGhpcy5lZGl0RGlhbG9nMSA9IGZhbHNlDQogICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZWRpdERpYWxvZzIpIHsNCiAgICAgICAgICAgIHRoaXMucGlja2VkRGF0ZUxlZnQgPSBbbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCldDQogICAgICAgICAgICB0aGlzLmVkaXREaWFsb2cyID0gZmFsc2UNCiAgICAgICAgIH0NCg0KICAgICAgfSwNCiAgICAgIGNsZWFyRGF0ZSgpIHsNCiAgICAgICAgIHRoaXMucmVhZHlEYXRlID0gbnVsbA0KICAgICAgICAgdGhpcy5waWNrZWREYXRlID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCkNCiAgICAgIH0sDQogICAgICBvblNhdmVDaGFuZ2VzKCkgew0KICAgICAgICAgaWYgKHRoaXMucGlja2VkRGF0ZSAhPT0gbnVsbCkgew0KICAgICAgICAgICAgaWYgKHRoaXMucGlja2VkRGF0ZS5sZW5ndGggPiAxKSB7DQogICAgICAgICAgICAgICB0aGlzLnJlYWR5RGF0ZSA9IFtdDQogICAgICAgICAgICAgICBjb25zdCBuZXdEYXRlMSA9IG5ldyBEYXRlKG5ldyBEYXRlKCkpDQogICAgICAgICAgICAgICBjb25zdCBuZXdEYXkxID0gbmV3IERhdGUodGhpcy5waWNrZWREYXRlWzBdKS5nZXRVVENEYXRlKCkNCiAgICAgICAgICAgICAgIGNvbnN0IG5ld01vbnRoMSA9IG5ldyBEYXRlKHRoaXMucGlja2VkRGF0ZVswXSkuZ2V0VVRDTW9udGgoKQ0KICAgICAgICAgICAgICAgY29uc3QgbmV3WWVhcjEgPSBuZXcgRGF0ZSh0aGlzLnBpY2tlZERhdGVbMF0pLmdldFVUQ0Z1bGxZZWFyKCkNCiAgICAgICAgICAgICAgIG5ld0RhdGUxLnNldFVUQ0RhdGUobmV3RGF5MSkNCiAgICAgICAgICAgICAgIG5ld0RhdGUxLnNldFVUQ01vbnRoKG5ld01vbnRoMSkNCiAgICAgICAgICAgICAgIG5ld0RhdGUxLnNldFVUQ0Z1bGxZZWFyKG5ld1llYXIxKQ0KICAgICAgICAgICAgICAgbmV3RGF0ZTEuc2V0VVRDSG91cnMoLTMpDQogICAgICAgICAgICAgICBuZXdEYXRlMS5zZXRVVENNaW51dGVzKDApDQogICAgICAgICAgICAgICBuZXdEYXRlMS5zZXRVVENTZWNvbmRzKDApDQogICAgICAgICAgICAgICBjb25zdCBuZXdEYXRlMiA9IG5ldyBEYXRlKG5ldyBEYXRlKCkpDQogICAgICAgICAgICAgICBjb25zdCBuZXdEYXkyID0gbmV3IERhdGUodGhpcy5waWNrZWREYXRlWzFdKS5nZXRVVENEYXRlKCkNCiAgICAgICAgICAgICAgIGNvbnN0IG5ld01vbnRoMiA9IG5ldyBEYXRlKHRoaXMucGlja2VkRGF0ZVsxXSkuZ2V0VVRDTW9udGgoKQ0KICAgICAgICAgICAgICAgY29uc3QgbmV3WWVhcjIgPSBuZXcgRGF0ZSh0aGlzLnBpY2tlZERhdGVbMV0pLmdldFVUQ0Z1bGxZZWFyKCkNCiAgICAgICAgICAgICAgIG5ld0RhdGUyLnNldFVUQ0RhdGUobmV3RGF5MikNCiAgICAgICAgICAgICAgIG5ld0RhdGUyLnNldFVUQ01vbnRoKG5ld01vbnRoMikNCiAgICAgICAgICAgICAgIG5ld0RhdGUyLnNldFVUQ0Z1bGxZZWFyKG5ld1llYXIyKQ0KICAgICAgICAgICAgICAgbmV3RGF0ZTIuc2V0VVRDSG91cnMoMjApDQogICAgICAgICAgICAgICBuZXdEYXRlMi5zZXRVVENNaW51dGVzKDU5KQ0KICAgICAgICAgICAgICAgbmV3RGF0ZTIuc2V0VVRDU2Vjb25kcyg1OSkNCiAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG5ld0RhdGUxKQ0KICAgICAgICAgICAgICAgY29uc29sZS5sb2cobmV3RGF0ZTIpDQogICAgICAgICAgICAgICB0aGlzLnJlYWR5RGF0ZS5wdXNoKG5ld0RhdGUxLCBuZXdEYXRlMikNCiAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMucmVhZHlEYXRlKQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMucGlja2VkRGF0ZSkNCiAgICAgICAgICAgICAgIGNvbnN0IG5ld0RhdGUgPSBuZXcgRGF0ZShuZXcgRGF0ZSgpKQ0KICAgICAgICAgICAgICAgY29uc3QgbmV3RGF5ID0gbmV3IERhdGUodGhpcy5waWNrZWREYXRlKS5nZXRVVENEYXRlKCkNCiAgICAgICAgICAgICAgIGNvbnN0IG5ld01vbnRoID0gbmV3IERhdGUodGhpcy5waWNrZWREYXRlKS5nZXRVVENNb250aCgpDQogICAgICAgICAgICAgICBjb25zdCBuZXdZZWFyID0gbmV3IERhdGUodGhpcy5waWNrZWREYXRlKS5nZXRVVENGdWxsWWVhcigpDQogICAgICAgICAgICAgICBuZXdEYXRlLnNldFVUQ0RhdGUobmV3RGF5KQ0KICAgICAgICAgICAgICAgbmV3RGF0ZS5zZXRVVENNb250aChuZXdNb250aCkNCiAgICAgICAgICAgICAgIG5ld0RhdGUuc2V0VVRDRnVsbFllYXIobmV3WWVhcikNCiAgICAgICAgICAgICAgIHRoaXMucmVhZHlEYXRlID0gbmV3RGF0ZQ0KICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5yZWFkeURhdGUpDQogICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnJlYWR5RGF0ZS50b0lTT1N0cmluZygpLnN1YnN0cigwLDEwKSkNCiAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMucmVhZHlEYXRlLnRvU3RyaW5nKCkuc3Vic3RyKDAsIDE1KSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgIH0NCg0KICAgICAgfSwNCiAgICAgIG9uU2F2ZUNoYW5nZXNFbnRyeSgpIHsNCiAgICAgICAgIGlmICh0aGlzLnBpY2tlZERhdGVFbnRyeSAhPT0gbnVsbCkgew0KICAgICAgICAgICAgaWYgKHRoaXMucGlja2VkRGF0ZUVudHJ5Lmxlbmd0aCA+IDEpIHsNCiAgICAgICAgICAgICAgIHRoaXMucmVhZHlEYXRlRW50cnkgPSBbXQ0KICAgICAgICAgICAgICAgY29uc3QgbmV3RGF0ZTEgPSBuZXcgRGF0ZShuZXcgRGF0ZSgpKQ0KICAgICAgICAgICAgICAgY29uc3QgbmV3RGF5MSA9IG5ldyBEYXRlKHRoaXMucGlja2VkRGF0ZUVudHJ5WzBdKS5nZXRVVENEYXRlKCkNCiAgICAgICAgICAgICAgIGNvbnN0IG5ld01vbnRoMSA9IG5ldyBEYXRlKHRoaXMucGlja2VkRGF0ZUVudHJ5WzBdKS5nZXRVVENNb250aCgpDQogICAgICAgICAgICAgICBjb25zdCBuZXdZZWFyMSA9IG5ldyBEYXRlKHRoaXMucGlja2VkRGF0ZUVudHJ5WzBdKS5nZXRVVENGdWxsWWVhcigpDQogICAgICAgICAgICAgICBuZXdEYXRlMS5zZXRVVENEYXRlKG5ld0RheTEpDQogICAgICAgICAgICAgICBuZXdEYXRlMS5zZXRVVENNb250aChuZXdNb250aDEpDQogICAgICAgICAgICAgICBuZXdEYXRlMS5zZXRVVENGdWxsWWVhcihuZXdZZWFyMSkNCiAgICAgICAgICAgICAgIG5ld0RhdGUxLnNldFVUQ0hvdXJzKC0zKQ0KICAgICAgICAgICAgICAgbmV3RGF0ZTEuc2V0VVRDTWludXRlcygwKQ0KICAgICAgICAgICAgICAgbmV3RGF0ZTEuc2V0VVRDU2Vjb25kcygwKQ0KICAgICAgICAgICAgICAgY29uc3QgbmV3RGF0ZTIgPSBuZXcgRGF0ZShuZXcgRGF0ZSgpKQ0KICAgICAgICAgICAgICAgY29uc3QgbmV3RGF5MiA9IG5ldyBEYXRlKHRoaXMucGlja2VkRGF0ZUVudHJ5WzFdKS5nZXRVVENEYXRlKCkNCiAgICAgICAgICAgICAgIGNvbnN0IG5ld01vbnRoMiA9IG5ldyBEYXRlKHRoaXMucGlja2VkRGF0ZUVudHJ5WzFdKS5nZXRVVENNb250aCgpDQogICAgICAgICAgICAgICBjb25zdCBuZXdZZWFyMiA9IG5ldyBEYXRlKHRoaXMucGlja2VkRGF0ZUVudHJ5WzFdKS5nZXRVVENGdWxsWWVhcigpDQogICAgICAgICAgICAgICBuZXdEYXRlMi5zZXRVVENEYXRlKG5ld0RheTIpDQogICAgICAgICAgICAgICBuZXdEYXRlMi5zZXRVVENNb250aChuZXdNb250aDIpDQogICAgICAgICAgICAgICBuZXdEYXRlMi5zZXRVVENGdWxsWWVhcihuZXdZZWFyMikNCiAgICAgICAgICAgICAgIG5ld0RhdGUyLnNldFVUQ0hvdXJzKDIwKQ0KICAgICAgICAgICAgICAgbmV3RGF0ZTIuc2V0VVRDTWludXRlcyg1OSkNCiAgICAgICAgICAgICAgIG5ld0RhdGUyLnNldFVUQ1NlY29uZHMoNTkpDQogICAgICAgICAgICAgICBjb25zb2xlLmxvZyhuZXdEYXRlMSkNCiAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG5ld0RhdGUyKQ0KICAgICAgICAgICAgICAgdGhpcy5yZWFkeURhdGVFbnRyeS5wdXNoKG5ld0RhdGUxLCBuZXdEYXRlMikNCiAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMucmVhZHlEYXRlKQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMucGlja2VkRGF0ZUVudHJ5KQ0KICAgICAgICAgICAgICAgY29uc3QgbmV3RGF0ZSA9IG5ldyBEYXRlKG5ldyBEYXRlKCkpDQogICAgICAgICAgICAgICBjb25zdCBuZXdEYXkgPSBuZXcgRGF0ZSh0aGlzLnBpY2tlZERhdGVFbnRyeSkuZ2V0VVRDRGF0ZSgpDQogICAgICAgICAgICAgICBjb25zdCBuZXdNb250aCA9IG5ldyBEYXRlKHRoaXMucGlja2VkRGF0ZUVudHJ5KS5nZXRVVENNb250aCgpDQogICAgICAgICAgICAgICBjb25zdCBuZXdZZWFyID0gbmV3IERhdGUodGhpcy5waWNrZWREYXRlRW50cnkpLmdldFVUQ0Z1bGxZZWFyKCkNCiAgICAgICAgICAgICAgIG5ld0RhdGUuc2V0VVRDRGF0ZShuZXdEYXkpDQogICAgICAgICAgICAgICBuZXdEYXRlLnNldFVUQ01vbnRoKG5ld01vbnRoKQ0KICAgICAgICAgICAgICAgbmV3RGF0ZS5zZXRVVENGdWxsWWVhcihuZXdZZWFyKQ0KICAgICAgICAgICAgICAgdGhpcy5yZWFkeURhdGVFbnRyeSA9IG5ld0RhdGUNCiAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMucmVhZHlEYXRlRW50cnkpDQogICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnJlYWR5RGF0ZS50b0lTT1N0cmluZygpLnN1YnN0cigwLDEwKSkNCiAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMucmVhZHlEYXRlLnRvU3RyaW5nKCkuc3Vic3RyKDAsIDE1KSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgIH0NCg0KICAgICAgfSwNCiAgICAgIG9uU2F2ZUNoYW5nZXNMZWZ0KCkgew0KICAgICAgICAgaWYgKHRoaXMucGlja2VkRGF0ZUxlZnQgIT09IG51bGwpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLnBpY2tlZERhdGVMZWZ0Lmxlbmd0aCA+IDEpIHsNCiAgICAgICAgICAgICAgIHRoaXMucmVhZHlEYXRlTGVmdCA9IFtdDQogICAgICAgICAgICAgICBjb25zdCBuZXdEYXRlMSA9IG5ldyBEYXRlKG5ldyBEYXRlKCkpDQogICAgICAgICAgICAgICBjb25zdCBuZXdEYXkxID0gbmV3IERhdGUodGhpcy5waWNrZWREYXRlTGVmdFswXSkuZ2V0VVRDRGF0ZSgpDQogICAgICAgICAgICAgICBjb25zdCBuZXdNb250aDEgPSBuZXcgRGF0ZSh0aGlzLnBpY2tlZERhdGVMZWZ0WzBdKS5nZXRVVENNb250aCgpDQogICAgICAgICAgICAgICBjb25zdCBuZXdZZWFyMSA9IG5ldyBEYXRlKHRoaXMucGlja2VkRGF0ZUxlZnRbMF0pLmdldFVUQ0Z1bGxZZWFyKCkNCiAgICAgICAgICAgICAgIG5ld0RhdGUxLnNldFVUQ0RhdGUobmV3RGF5MSkNCiAgICAgICAgICAgICAgIG5ld0RhdGUxLnNldFVUQ01vbnRoKG5ld01vbnRoMSkNCiAgICAgICAgICAgICAgIG5ld0RhdGUxLnNldFVUQ0Z1bGxZZWFyKG5ld1llYXIxKQ0KICAgICAgICAgICAgICAgbmV3RGF0ZTEuc2V0VVRDSG91cnMoLTMpDQogICAgICAgICAgICAgICBuZXdEYXRlMS5zZXRVVENNaW51dGVzKDApDQogICAgICAgICAgICAgICBuZXdEYXRlMS5zZXRVVENTZWNvbmRzKDApDQogICAgICAgICAgICAgICBjb25zdCBuZXdEYXRlMiA9IG5ldyBEYXRlKG5ldyBEYXRlKCkpDQogICAgICAgICAgICAgICBjb25zdCBuZXdEYXkyID0gbmV3IERhdGUodGhpcy5waWNrZWREYXRlTGVmdFsxXSkuZ2V0VVRDRGF0ZSgpDQogICAgICAgICAgICAgICBjb25zdCBuZXdNb250aDIgPSBuZXcgRGF0ZSh0aGlzLnBpY2tlZERhdGVMZWZ0WzFdKS5nZXRVVENNb250aCgpDQogICAgICAgICAgICAgICBjb25zdCBuZXdZZWFyMiA9IG5ldyBEYXRlKHRoaXMucGlja2VkRGF0ZUxlZnRbMV0pLmdldFVUQ0Z1bGxZZWFyKCkNCiAgICAgICAgICAgICAgIG5ld0RhdGUyLnNldFVUQ0RhdGUobmV3RGF5MikNCiAgICAgICAgICAgICAgIG5ld0RhdGUyLnNldFVUQ01vbnRoKG5ld01vbnRoMikNCiAgICAgICAgICAgICAgIG5ld0RhdGUyLnNldFVUQ0Z1bGxZZWFyKG5ld1llYXIyKQ0KICAgICAgICAgICAgICAgbmV3RGF0ZTIuc2V0VVRDSG91cnMoMjApDQogICAgICAgICAgICAgICBuZXdEYXRlMi5zZXRVVENNaW51dGVzKDU5KQ0KICAgICAgICAgICAgICAgbmV3RGF0ZTIuc2V0VVRDU2Vjb25kcyg1OSkNCiAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG5ld0RhdGUxKQ0KICAgICAgICAgICAgICAgY29uc29sZS5sb2cobmV3RGF0ZTIpDQogICAgICAgICAgICAgICB0aGlzLnJlYWR5RGF0ZUxlZnQucHVzaChuZXdEYXRlMSwgbmV3RGF0ZTIpDQogICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnJlYWR5RGF0ZSkNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnBpY2tlZERhdGVMZWZ0KQ0KICAgICAgICAgICAgICAgY29uc3QgbmV3RGF0ZSA9IG5ldyBEYXRlKG5ldyBEYXRlKCkpDQogICAgICAgICAgICAgICBjb25zdCBuZXdEYXkgPSBuZXcgRGF0ZSh0aGlzLnBpY2tlZERhdGVMZWZ0KS5nZXRVVENEYXRlKCkNCiAgICAgICAgICAgICAgIGNvbnN0IG5ld01vbnRoID0gbmV3IERhdGUodGhpcy5waWNrZWREYXRlTGVmdCkuZ2V0VVRDTW9udGgoKQ0KICAgICAgICAgICAgICAgY29uc3QgbmV3WWVhciA9IG5ldyBEYXRlKHRoaXMucGlja2VkRGF0ZUxlZnQpLmdldFVUQ0Z1bGxZZWFyKCkNCiAgICAgICAgICAgICAgIG5ld0RhdGUuc2V0VVRDRGF0ZShuZXdEYXkpDQogICAgICAgICAgICAgICBuZXdEYXRlLnNldFVUQ01vbnRoKG5ld01vbnRoKQ0KICAgICAgICAgICAgICAgbmV3RGF0ZS5zZXRVVENGdWxsWWVhcihuZXdZZWFyKQ0KICAgICAgICAgICAgICAgdGhpcy5yZWFkeURhdGVMZWZ0ID0gbmV3RGF0ZQ0KICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5yZWFkeURhdGVMZWZ0KQ0KICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5yZWFkeURhdGUudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwxMCkpDQogICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnJlYWR5RGF0ZS50b1N0cmluZygpLnN1YnN0cigwLCAxNSkpDQogICAgICAgICAgICB9DQogICAgICAgICB9DQoNCiAgICAgIH0sDQogICAgICBjbG9zZUZpbHRlcigpIHsNCiAgICAgICAgIHRoaXMucmVhZHlEYXRlID0gbnVsbA0KICAgICAgICAgdGhpcy5pc0ZpbHRlciA9ICF0aGlzLmlzRmlsdGVyDQogICAgICAgICB0aGlzLnBpY2tlZERhdGUgPSBbbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCldDQogICAgICAgICB0aGlzLnJlYWR5RGF0ZUVudHJ5ID0gbnVsbA0KICAgICAgICAgdGhpcy5waWNrZWREYXRlRW50cnkgPSBbbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCldDQogICAgICAgICB0aGlzLnJlYWR5RGF0ZUxlZnQgPSBudWxsDQogICAgICAgICB0aGlzLnBpY2tlZERhdGVMZWZ0ID0gW25ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApXQ0KICAgICAgICAgdGhpcy5zZWFyY2hOYW1lID0gJycNCiAgICAgICAgIHRoaXMuc2VhcmNoVGl0bGUgPSAnJw0KICAgICAgICAgdGhpcy5waWNrZWRTdXJnZW9uID0gJ9Cx0LXQtyDRhNGW0LvRjNGC0YDRgycNCiAgICAgICAgIHRoaXMuc2VhcmNoT3BfbnVtYmVyID0gJycNCiAgICAgICAgIHRoaXMucGlja2VkUmFuayA9ICfQsdC10Lcg0YTRltC70YzRgtGA0YMnDQogICAgICAgICB0aGlzLnNob3dTdW0gPSAn0J/QvtC60LDQt9Cw0YLQuCcNCiAgICAgICAgIHRoaXMuc2hvd1N1bUFmdGVyID0gJ9Cf0L7QutCw0LfQsNGC0LgnDQogICAgICAgICB0aGlzLnNlYXJjaE9wX2NvZGUgPSAnJw0KICAgICAgICAgdGhpcy5zZWFyY2hDb21wbGV4aXR5ID0gJycNCiAgICAgICAgIHRoaXMuc2VhcmNoTm96b2xvZ2lhID0gJycNCiAgICAgICAgIHRoaXMucGlja2VkVGltZVR5cGUgPSAn0LHQtdC3INGE0ZbQu9GM0YLRgNGDJw0KICAgICAgICAgdGhpcy5waWNrZWRVcmdlbmN5VHlwZSA9ICfQsdC10Lcg0YTRltC70YzRgtGA0YMnDQogICAgICAgICB0aGlzLnBpY2tlZE9wZXJhdGlvblR5cGUgPSAn0LHQtdC3INGE0ZbQu9GM0YLRgNGDJw0KICAgICAgICAgdGhpcy5waWNrZWRBbmVzdGhlc2lhVHlwZSA9ICfQsdC10Lcg0YTRltC70YzRgtGA0YMnDQogICAgICAgICB0aGlzLnBpY2tlZFNwb3RUeXBlID0gJ9Cx0LXQtyDRhNGW0LvRjNGC0YDRgycNCiAgICAgICAgIHRoaXMucGljZWtkVWx0aW1hdGVUeXBlID0gJ9Cx0LXQtyDRhNGW0LvRjNGC0YDRgycNCiAgICAgICAgIHRoaXMucGlja2VkQXNzaXN0YW50ID0gJ9Cx0LXQtyDRhNGW0LvRjNGC0YDRgycNCiAgICAgICAgIHRoaXMucGlja2VkQW5lc3RoZXNpb2xvZ2lzdCA9ICfQsdC10Lcg0YTRltC70YzRgtGA0YMnDQogICAgICAgICB0aGlzLnBpY2tlZE1lZHNpc3RlciA9ICfQsdC10Lcg0YTRltC70YzRgtGA0YMnDQogICAgICAgICB0aGlzLnNlYXJjaEFnZSA9ICcnDQogICAgICAgICB0aGlzLnNlYXJjaFNpY2tuZXNzSGlzdG9yeSA9ICcnDQogICAgICAgICB0aGlzLnNlYXJjaERpYWdub3Npc1VsdGltYXRlID0gJycNCiAgICAgIH0sDQogICAgICBjbGVhckZpbHRlcigpIHsNCiAgICAgICAgIHRoaXMucmVhZHlEYXRlID0gbnVsbA0KICAgICAgICAgdGhpcy5waWNrZWREYXRlID0gW25ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApXQ0KICAgICAgICAgdGhpcy5yZWFkeURhdGVFbnRyeSA9IG51bGwNCiAgICAgICAgIHRoaXMucGlja2VkRGF0ZUVudHJ5ID0gW25ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApXQ0KICAgICAgICAgdGhpcy5yZWFkeURhdGVMZWZ0ID0gbnVsbA0KICAgICAgICAgdGhpcy5waWNrZWREYXRlTGVmdCA9IFtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKV0NCiAgICAgICAgIHRoaXMuc2VhcmNoTmFtZSA9ICcnDQogICAgICAgICB0aGlzLnNlYXJjaFRpdGxlID0gJycNCiAgICAgICAgIHRoaXMucGlja2VkU3VyZ2VvbiA9ICfQsdC10Lcg0YTRltC70YzRgtGA0YMnDQogICAgICAgICB0aGlzLnNlYXJjaE9wX251bWJlciA9ICcnDQogICAgICAgICB0aGlzLnBpY2tlZFJhbmsgPSAn0LHQtdC3INGE0ZbQu9GM0YLRgNGDJw0KICAgICAgICAgdGhpcy5zaG93U3VtID0gJ9Cf0L7QutCw0LfQsNGC0LgnDQogICAgICAgICB0aGlzLnNob3dTdW1BZnRlciA9ICfQn9C+0LrQsNC30LDRgtC4Jw0KICAgICAgICAgdGhpcy5zZWFyY2hPcF9jb2RlID0gJycNCiAgICAgICAgIHRoaXMuc2VhcmNoQ29tcGxleGl0eSA9ICcnDQogICAgICAgICB0aGlzLnNlYXJjaE5vem9sb2dpYSA9ICcnDQogICAgICAgICB0aGlzLnBpY2tlZFRpbWVUeXBlID0gJ9Cx0LXQtyDRhNGW0LvRjNGC0YDRgycNCiAgICAgICAgIHRoaXMucGlja2VkVXJnZW5jeVR5cGUgPSAn0LHQtdC3INGE0ZbQu9GM0YLRgNGDJw0KICAgICAgICAgdGhpcy5waWNrZWRPcGVyYXRpb25UeXBlID0gJ9Cx0LXQtyDRhNGW0LvRjNGC0YDRgycNCiAgICAgICAgIHRoaXMucGlja2VkQW5lc3RoZXNpYVR5cGUgPSAn0LHQtdC3INGE0ZbQu9GM0YLRgNGDJw0KICAgICAgICAgdGhpcy5waWNrZWRTcG90VHlwZSA9ICfQsdC10Lcg0YTRltC70YzRgtGA0YMnDQogICAgICAgICB0aGlzLnBpY2VrZFVsdGltYXRlVHlwZSA9ICfQsdC10Lcg0YTRltC70YzRgtGA0YMnDQogICAgICAgICB0aGlzLnBpY2tlZEFzc2lzdGFudCA9ICfQsdC10Lcg0YTRltC70YzRgtGA0YMnDQogICAgICAgICB0aGlzLnBpY2tlZEFuZXN0aGVzaW9sb2dpc3QgPSAn0LHQtdC3INGE0ZbQu9GM0YLRgNGDJw0KICAgICAgICAgdGhpcy5waWNrZWRNZWRzaXN0ZXIgPSAn0LHQtdC3INGE0ZbQu9GM0YLRgNGDJywNCiAgICAgICAgIHRoaXMuc2VhcmNoQWdlID0gJycNCiAgICAgICAgIHRoaXMuc2VhcmNoU2lja25lc3NIaXN0b3J5ID0gJycNCiAgICAgICAgIHRoaXMuc2VhcmNoRGlhZ25vc2lzVWx0aW1hdGUgPSAnJw0KICAgICAgfQ0KICAgfSwNCiAgIGRhdGE6ICgpID0+ICh7DQogICAgICBpc0FyY2hpdmU6IHRydWUsDQogICAgICBzaG93U3VtOiAn0J/QvtC60LDQt9Cw0YLQuCcsDQogICAgICBzaG93U3VtQWZ0ZXI6ICfQn9C+0LrQsNC30LDRgtC4JywNCiAgICAgIHBpY2tlZFN1cmdlb246ICfQsdC10Lcg0YTRltC70YzRgtGA0YMnLA0KICAgICAgc2VhcmNoTmFtZTogJycsDQogICAgICBzZWFyY2hUaXRsZTogJycsDQogICAgICBlZGl0RGlhbG9nOiBmYWxzZSwNCiAgICAgIGVkaXREaWFsb2cxOiBmYWxzZSwNCiAgICAgIGVkaXREaWFsb2cyOiBmYWxzZSwNCiAgICAgIHBpY2tlZERhdGU6IFtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKV0sDQogICAgICBwaWNrZWREYXRlRW50cnk6IFtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKV0sDQogICAgICBwaWNrZWREYXRlTGVmdDogW25ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApXSwNCiAgICAgIHJlYWR5RGF0ZTogbnVsbCwNCiAgICAgIHJlYWR5RGF0ZUVudHJ5OiBudWxsLA0KICAgICAgcmVhZHlEYXRlTGVmdDogbnVsbCwNCiAgICAgIGlzRmlsdGVyOiB0cnVlLA0KICAgICAgc2VhcmNoT3BfbnVtYmVyOiAnJywNCiAgICAgIHNlYXJjaE9wX2NvZGU6ICcnLA0KICAgICAgc2VhcmNoQ29tcGxleGl0eTogJycsDQogICAgICBzZWFyY2hOb3pvbG9naWE6ICcnLA0KICAgICAgcGlja2VkUmFuazogJ9Cx0LXQtyDRhNGW0LvRjNGC0YDRgycsDQogICAgICBwaWNrZWRUaW1lVHlwZTogJ9Cx0LXQtyDRhNGW0LvRjNGC0YDRgycsDQogICAgICBwaWNrZWRVcmdlbmN5VHlwZTogJ9Cx0LXQtyDRhNGW0LvRjNGC0YDRgycsDQogICAgICBwaWNrZWRPcGVyYXRpb25UeXBlOiAn0LHQtdC3INGE0ZbQu9GM0YLRgNGDJywNCiAgICAgIHBpY2tlZEFuZXN0aGVzaWFUeXBlOiAn0LHQtdC3INGE0ZbQu9GM0YLRgNGDJywNCiAgICAgIHBpY2tlZFNwb3RUeXBlOiAn0LHQtdC3INGE0ZbQu9GM0YLRgNGDJywNCiAgICAgIHBpY2VrZFVsdGltYXRlVHlwZTogJ9Cx0LXQtyDRhNGW0LvRjNGC0YDRgycsDQogICAgICBwaWNrZWRBc3Npc3RhbnQ6ICfQsdC10Lcg0YTRltC70YzRgtGA0YMnLA0KICAgICAgcGlja2VkQW5lc3RoZXNpb2xvZ2lzdDogJ9Cx0LXQtyDRhNGW0LvRjNGC0YDRgycsDQogICAgICBwaWNrZWRNZWRzaXN0ZXI6ICfQsdC10Lcg0YTRltC70YzRgtGA0YMnLA0KICAgICAgdXBkYXRlZEFnZTogZmFsc2UsDQogICAgICBzZWFyY2hBZ2U6ICcnLA0KICAgICAgc2VhcmNoU2lja25lc3NIaXN0b3J5OiAnJywNCiAgICAgIHNlYXJjaERpYWdub3Npc1VsdGltYXRlOiAnJw0KDQogICB9KSwNCiAgIGNyZWF0ZWQoKSB7DQogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbG9hZEFwcG9pbnRtZW50cycpDQogICB9LA0KICAgLy8gbW91bnRlZCgpIHsNCiAgIC8vICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgLy8gICAgICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLmlzVXBkYXRlZEFnZSA9PSBmYWxzZSkgew0KICAgLy8gICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRVcGRhdGVkQWdlJywgdHJ1ZSkNCiAgIC8vICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpDQogICAvLyAgICAgICAgICB0aGlzLmFsbEFwcG9pbnRtZW50cy5mb3JFYWNoKGFwcG9pbnQgPT4gew0KICAgLy8gICAgICAgICAgICAgbGV0IGFnZU51bWJlciA9IE1hdGguZmxvb3IoKGRhdGUuZ2V0VGltZSgpIC0gYXBwb2ludC5kYXRlQWdlLnRvRGF0ZSgpLmdldFRpbWUoKSkgLyAoMTAwMCAqIDM2MDAgKiAyNCAqIDM2NSkpDQogICAvLyAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgndXBkYXRlUG9zdCcsIHsNCiAgIC8vICAgICAgICAgICAgICAgIGlkOiBhcHBvaW50LmlkLA0KICAgLy8gICAgICAgICAgICAgICAgYWdlOiBhZ2VOdW1iZXIsDQogICAvLyAgICAgICAgICAgICAgICBub3RUb0xvYWRpbmc6ICd5ZXMnDQogICAvLyAgICAgICAgICAgICB9KQ0KICAgLy8gICAgICAgICAgfSkNCiAgIC8vICAgICAgIH0NCiAgIC8vICAgIH0sIDUwMCkNCiAgIC8vIH0NCn0NCg=="},{"version":3,"sources":["List.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"List.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n<main>\r\n   <!-- <button v-if=\"!isArchive\" @click.prevent=\"onArchive\" class=\"pa-1 btn-archive blue white--text\">Open Archive</button>\r\n   <button v-else @click.prevent=\"onArchive\" class=\"pa-1 btn-archive white--text red\">Close Archive</button> -->\r\n   \r\n   <v-layout row wrap v-if=\"isFilter\" class=\"layoutTT\">\r\n      <v-flex xs12  class=\"layout-unit\">\r\n         <v-select :items=\"items\" label=\"\" v-model=\"pickedSurgeon\"></v-select>\r\n      </v-flex>\r\n      <v-flex xs12  class=\"layout-unit\">\r\n         <v-select :items=\"items\" label=\"\" v-model=\"pickedAssistant\"></v-select>\r\n      </v-flex>\r\n      <v-flex xs12  class=\"layout-unit\">\r\n         <v-select :items=\"anesthesiologistItems\" label=\"\" v-model=\"pickedAnesthesiologist\"></v-select>\r\n      </v-flex>\r\n      <v-flex xs12  class=\"layout-unit\">\r\n         <v-select :items=\"medsisterItems\" label=\" \" v-model=\"pickedMedsister\"></v-select>\r\n      </v-flex>\r\n      <v-flex xs12  class=\"layout-unit\">\r\n         <v-select :items=\"rankItems\" label=\"\" v-model=\"pickedRank\"></v-select>\r\n      </v-flex>\r\n      <v-flex xs12  class=\"layout-unit\">\r\n         <v-select :items=\"timeTypeItems\" label=\" / \" v-model=\"pickedTimeType\"></v-select>\r\n      </v-flex>\r\n      <v-flex xs12  class=\"layout-unit\">\r\n         <v-select :items=\"urgencyTypeItems\" label=\" / \" v-model=\"pickedUrgencyType\"></v-select>\r\n      </v-flex>\r\n      <v-flex xs12  class=\"layout-unit\">\r\n         <v-select :items=\"operationTypeItems\" label=\" ...\" v-model=\"pickedOperationType\"></v-select>\r\n      </v-flex>\r\n      <v-flex xs12  class=\"layout-unit\">\r\n         <v-select :items=\"anesthesiaTypeItems\" label=\" ...\" v-model=\"pickedAnesthesiaType\"></v-select>\r\n      </v-flex>\r\n      <v-flex xs12  class=\"layout-unit\">\r\n         <v-select :items=\"spotTypeItems\" label=\"/ \" v-model=\"pickedSpotType\"></v-select>\r\n      </v-flex>\r\n      <v-flex xs12  class=\"layout-unit\">\r\n         <v-select :items=\"ultimateTypeItems\" label=\" / \" v-model=\"picekdUltimateType\"></v-select>\r\n      </v-flex>\r\n      <v-flex xs12  class=\"layout-unit\">\r\n         <div class=\"search-wrapper\">\r\n            <v-text-field  v-model=\"searchName\" label=\" . ..\" />\r\n\r\n         </div>\r\n      </v-flex>\r\n      <v-flex xs12  class=\"layout-unit\">\r\n         <div class=\"search-wrapper\">\r\n            <v-text-field label=\" ..\" v-model=\"searchTitle\" />\r\n\r\n         </div>\r\n      </v-flex>\r\n      <v-flex xs12  class=\"layout-unit\">\r\n         <div class=\"search-wrapper\">\r\n            <v-text-field  v-model=\"searchAge\" label=\"..\" />\r\n\r\n         </div>\r\n      </v-flex>\r\n      <v-flex xs12  class=\"layout-unit\">\r\n         <div class=\"search-wrapper\">\r\n            <v-text-field  v-model=\"searchOp_code\" label=\" ..\" />\r\n         </div>\r\n      </v-flex>\r\n      <v-flex xs12  class=\"layout-unit\">\r\n         <div class=\"search-wrapper\">\r\n            <v-text-field v-model=\"searchOp_number\" label=\" ..\" />\r\n\r\n         </div>\r\n      </v-flex>\r\n      <v-flex xs12  class=\"layout-unit\">\r\n         <div class=\"search-wrapper\">\r\n            <v-text-field v-model=\"searchNozologia\" label=\"..\" />\r\n         </div>\r\n      </v-flex>\r\n      <v-flex xs12  class=\"layout-unit\">\r\n         <div class=\"search-wrapper\">\r\n            <v-text-field v-model=\"searchSicknessHistory\" label=\" ..\" />\r\n         </div>\r\n      </v-flex>\r\n      <v-flex xs12  class=\"layout-unit\">\r\n         <div class=\"search-wrapper\">\r\n            <v-text-field v-model=\"searchDiagnosisUltimate\" label=\" ..\" />\r\n         </div>\r\n      </v-flex>\r\n      \r\n      <v-flex xs12  class=\"layout-unit\">\r\n         <v-menu ref=\"menu\" v-model=\"editDialog\" :close-on-content-click=\"false\" :return-value.sync=\"pickedDate\" transition=\"scale-transition\" offset-y min-width=\"290px\">\r\n            <template v-slot:activator=\"{ on, attrs }\">\r\n               <v-text-field v-model=\"pickedDate\" label=\" \" prepend-icon=\"event\" readonly v-bind=\"attrs\" v-on=\"on\"></v-text-field>\r\n            </template>\r\n            <v-date-picker v-model=\"pickedDate\" range locale=\"uk-UA\" no-title scrollable>\r\n               <v-spacer></v-spacer>\r\n               <v-btn text color=\"primary\" @click=\"onClose\">Cancel</v-btn>\r\n               <v-btn text color=\"primary\" @click=\"onSaveChanges(); $refs.menu.save(pickedDate); \">OK</v-btn>\r\n            </v-date-picker>\r\n         </v-menu>\r\n      </v-flex>\r\n      <v-flex xs12  class=\"layout-unit\">\r\n         <v-menu ref=\"menuEntry\" v-model=\"editDialog1\" :close-on-content-click=\"false\" :return-value.sync=\"pickedDateEntry\" transition=\"scale-transition\" offset-y min-width=\"290px\">\r\n            <template v-slot:activator=\"{ on, attrs }\">\r\n               <v-text-field v-model=\"pickedDateEntry\" label=\" \" prepend-icon=\"event\" readonly v-bind=\"attrs\" v-on=\"on\"></v-text-field>\r\n            </template>\r\n            <v-date-picker v-model=\"pickedDateEntry\" range locale=\"uk-UA\" no-title scrollable>\r\n               <v-spacer></v-spacer>\r\n               <v-btn text color=\"primary\" @click=\"onClose\">Cancel</v-btn>\r\n               <v-btn text color=\"primary\" @click=\"onSaveChangesEntry(); $refs.menuEntry.save(pickedDateEntry); \">OK</v-btn>\r\n            </v-date-picker>\r\n         </v-menu>\r\n      </v-flex>\r\n      <v-flex xs12  class=\"layout-unit\">\r\n         <v-menu ref=\"menuLeft\" v-model=\"editDialog2\" :close-on-content-click=\"false\" :return-value.sync=\"pickedDateLeft\" transition=\"scale-transition\" offset-y min-width=\"290px\">\r\n            <template v-slot:activator=\"{ on, attrs }\">\r\n               <v-text-field v-model=\"pickedDateLeft\" label=\" \" prepend-icon=\"event\" readonly v-bind=\"attrs\" v-on=\"on\"></v-text-field>\r\n            </template>\r\n            <v-date-picker v-model=\"pickedDateLeft\" range locale=\"uk-UA\" no-title scrollable>\r\n               <v-spacer></v-spacer>\r\n               <v-btn text color=\"primary\" @click=\"onClose\">Cancel</v-btn>\r\n               <v-btn text color=\"primary\" @click=\"onSaveChangesLeft(); $refs.menuLeft.save(pickedDateLeft); \">OK</v-btn>\r\n            </v-date-picker>\r\n         </v-menu>\r\n      </v-flex>\r\n      <v-flex xs12  class=\"layout-unit\">\r\n         <div class=\"search-wrapper\">\r\n            <v-textarea name=\"textarea\" v-model=\"searchComplexity\" label=\"\" hint=\" \" rows=\"2\"></v-textarea>\r\n         </div>\r\n      </v-flex>\r\n   </v-layout>\r\n   <v-flex xs12 sm12>\r\n         <!-- <button @click=\"clearDate\" class=\"pa-1 red white--text darken-2\">Clear Date</button> -->\r\n         <button @click=\"clearFilter\" class=\" blue white--text darken-2 btn-archive\"> </button>\r\n         <button v-if=\"!isFilter\" @click=\"isFilter = !isFilter\" class=\"btn-archive green white--text\"> </button>\r\n         <button v-else @click=\"closeFilter\" class=\" btn-archive white--text red\"> </button>\r\n      </v-flex>\r\n   <v-layout row wrap class=\"buttons__section\">\r\n      <p class=\"info__button blue darken-4 white--text\"> : {{filteredAppointments.length}}</p>\r\n      <p @click=\"sumOfBeforeBeds\" class=\"info__button blue darken-4 white--text\"> : {{showSum}}</p>\r\n      <p @click=\"sumOfAfterBeds\" class=\"info__button blue  darken-4 white--text\"> : {{showSumAfter}}</p>\r\n   </v-layout>\r\n   \r\n   <v-layout row wrap class=\"layoutsec\">\r\n      <section class=\"section\">\r\n         <div v-for=\"appointment in filteredAppointments\" :key=\"appointment.id\"  class=\"appo-div\">\r\n            <v-card>\r\n               <v-card-title primary-title class=\"appo-title\">\r\n                  {{ appointment.title}}\r\n                  <v-btn text class=\"ml-3 blue darken-4 white--text\" @click=\"onOpenSingleRelease(appointment.id)\">\r\n                      <v-icon>assignment_turned_in</v-icon>\r\n                  </v-btn>\r\n                  \r\n               </v-card-title>\r\n               <v-card-text @click=\"onOpenSingle(appointment.id)\">\r\n                  <h2 class=\"appo-unit\">: {{ appointment.date | dateF }}</h2>\r\n                  <h2 class=\"appo-unit\"> : {{ appointment.op_code}}</h2>\r\n                  <h2 class=\"appo-unit\">: {{appointment.user.firstName}} {{appointment.user.lastName}}</h2>\r\n                  <h2 class=\"appo-unit\">: {{appointment.surgeon}}</h2>\r\n               </v-card-text>\r\n\r\n            </v-card>\r\n         </div>\r\n      </section>\r\n   </v-layout>\r\n</main>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n   name: 'list',\r\n   computed: {\r\n      appointments() {\r\n         return this.$store.getters.sortedAppointments\r\n      },\r\n      featuredAppointments() {\r\n         return this.$store.getters.featuredAppointments\r\n      },\r\n      items() {\r\n         let retArr = [\r\n            ' ',\r\n            ...this.$store.getters.items\r\n         ]\r\n         return retArr\r\n      },\r\n      allAppointments: {\r\n         get() {\r\n            if (this.isArchive != true) {\r\n               return this.$store.getters.featuredAppointments\r\n            } else {\r\n               return this.$store.getters.sortedAppointments\r\n            }\r\n         },\r\n         set() {\r\n\r\n         }\r\n\r\n      },\r\n      filteredAppointments() {\r\n         let filteredArray = []\r\n         if (this.pickedSurgeon === ' ' && this.searchName.trim() === '' && this.readyDate === null &&\r\n            this.searchOp_number.trim() === '' && this.pickedRank === ' ' &&\r\n            this.readyDateEntry === null && this.readyDateLeft === null && this.searchTitle.trim() === '' &&\r\n            this.searchOp_code.trim() === '' && this.searchComplexity.trim() === '' && this.searchNozologia.trim() === '' &&\r\n            this.pickedTimeType === ' ' && this.pickedUrgencyType === ' ' && this.pickedOperationType === ' ' &&\r\n            this.pickedAnesthesiaType === ' ' && this.pickedSpotType === ' ' && this.picekdUltimateType === ' ' &&\r\n            this.pickedAssistant === ' ' && this.pickedAnesthesiologist === ' ' && this.pickedMedsister.trim() === ' '\r\n            && this.searchAge.trim() === '' && this.searchSicknessHistory.trim() === '' && this.searchDiagnosisUltimate.trim() === '') {\r\n            return this.allAppointments;\r\n         } else {\r\n\r\n            this.allAppointments.forEach(appoint => {\r\n\r\n               if (this.pickedSurgeon !== ' ') {\r\n                  if (this.pickedSurgeon === appoint.surgeon) {\r\n                     filteredArray.push(appoint)\r\n                  }\r\n               } else {\r\n                  filteredArray = this.allAppointments\r\n               }\r\n\r\n            })\r\n            // rank \r\n\r\n            if (this.pickedRank !== ' ') {\r\n               let RankIndexes = []\r\n               filteredArray.forEach(appoint => {\r\n                  if (this.pickedRank !== ' ') {\r\n                     let index = filteredArray.indexOf(appoint)\r\n                     if (this.pickedRank !== appoint.rank) {\r\n                        RankIndexes.push(index)\r\n                     }\r\n                  }\r\n               })\r\n               filteredArray = filteredArray.filter(function (value, index) {\r\n                  return RankIndexes.indexOf(index) == -1;\r\n               })\r\n            }\r\n            // title operation \r\n            if (this.searchTitle.trim() !== '') {\r\n               let arrOfTitleIndexes = []\r\n               filteredArray.forEach(appoint => {\r\n                  if (this.searchTitle.trim() !== '') {\r\n\r\n                     let index = filteredArray.indexOf(appoint)\r\n                     if (appoint.title.toLowerCase().includes(this.searchTitle.toLowerCase()) == false) {\r\n                        arrOfTitleIndexes.push(index)\r\n                     }\r\n                  }\r\n               })\r\n               filteredArray = filteredArray.filter(function (value, index) {\r\n                  return arrOfTitleIndexes.indexOf(index) == -1;\r\n               })\r\n            }\r\n\r\n            // Operation code \r\n\r\n            if (this.searchOp_code.trim() !== '') {\r\n               let codeIndexes = []\r\n               filteredArray.forEach(appoint => {\r\n                  if (this.searchOp_code.trim() !== '') {\r\n                     let index = filteredArray.indexOf(appoint)\r\n                     if (appoint.op_code.toLowerCase().includes(this.searchOp_code.toLowerCase()) == false) {\r\n                        codeIndexes.push(index)\r\n\r\n                     }\r\n                  }\r\n               })\r\n               filteredArray = filteredArray.filter(function (value, index) {\r\n                  return codeIndexes.indexOf(index) == -1;\r\n               })\r\n            }\r\n\r\n            // Complexity \r\n\r\n            if (this.searchComplexity.trim() !== '') {\r\n               let arrOfComplexityIndexes = []\r\n               filteredArray.forEach(appoint => {\r\n                  if (this.searchComplexity.trim() !== '' ) {\r\n                     let index = filteredArray.indexOf(appoint)\r\n                     if(appoint.complexity != undefined){\r\n                        if (appoint.complexity.toLowerCase().includes(this.searchComplexity.toLowerCase()) == false) {\r\n                        arrOfComplexityIndexes.push(index)\r\n                     }\r\n                     } else {\r\n                        arrOfComplexityIndexes.push(index)\r\n                     }\r\n                     \r\n                  }\r\n               })\r\n               filteredArray = filteredArray.filter(function (value, index) {\r\n                  return arrOfComplexityIndexes.indexOf(index) == -1;\r\n               })\r\n            }\r\n\r\n            // nozlogia\r\n\r\n            if (this.searchNozologia.trim() !== '') {\r\n               let arrOfNozologiaIndexes = []\r\n               filteredArray.forEach(appoint => {\r\n                  if (this.searchNozologia.trim() !== '') {\r\n                     let index = filteredArray.indexOf(appoint)\r\n                     if (appoint.nozologia.toLowerCase().includes(this.searchNozologia.toLowerCase()) == false) {\r\n                        arrOfNozologiaIndexes.push(index)\r\n                     }\r\n                  }\r\n               })\r\n               filteredArray = filteredArray.filter(function (value, index) {\r\n                  return arrOfNozologiaIndexes.indexOf(index) == -1;\r\n               })\r\n            }\r\n\r\n            // Assistant\r\n            if (this.pickedAssistant.trim() !== ' ') {\r\n               let assistantIndexes = []\r\n               filteredArray.forEach(appoint => {\r\n                  if (this.pickedAssistant.trim() !== ' ') {\r\n                     let index = filteredArray.indexOf(appoint)\r\n                     if (this.pickedAssistant !== appoint.assistant) {\r\n                        assistantIndexes.push(index)\r\n                     }\r\n                  }\r\n               })\r\n               filteredArray = filteredArray.filter(function (value, index) {\r\n                  return assistantIndexes.indexOf(index) == -1;\r\n               })\r\n            }\r\n\r\n            // Anesthesiologist\r\n            if (this.pickedAnesthesiologist.trim() !== ' ') {\r\n               let anesthesiologistIndexes = []\r\n               filteredArray.forEach(appoint => {\r\n                  if (this.pickedAnesthesiologist.trim() !== ' ') {\r\n                     let index = filteredArray.indexOf(appoint)\r\n                     if (this.pickedAnesthesiologist !== appoint.anesthesiologist) {\r\n                        anesthesiologistIndexes.push(index)\r\n                     }\r\n                  }\r\n               })\r\n               filteredArray = filteredArray.filter(function (value, index) {\r\n                  return anesthesiologistIndexes.indexOf(index) == -1;\r\n               })\r\n            }\r\n\r\n            // Medsister\r\n            if (this.pickedMedsister.trim() !== ' ') {\r\n               let medsisterIndexes = []\r\n               filteredArray.forEach(appoint => {\r\n                  if (this.pickedMedsister.trim() !== ' ') {\r\n                     let index = filteredArray.indexOf(appoint)\r\n                     if (this.pickedMedsister !== appoint.medsister) {\r\n                        medsisterIndexes.push(index)\r\n                     }\r\n                  }\r\n               })\r\n               filteredArray = filteredArray.filter(function (value, index) {\r\n                  return medsisterIndexes.indexOf(index) == -1;\r\n               })\r\n            }\r\n\r\n            // time Type \r\n\r\n            if (this.pickedTimeType !== ' ') {\r\n               let timeTypeIndexes = []\r\n               filteredArray.forEach(appoint => {\r\n                  if (this.pickedTimeType !== ' ') {\r\n                     let index = filteredArray.indexOf(appoint)\r\n                     if (this.pickedTimeType !== appoint.timeType) {\r\n                        timeTypeIndexes.push(index)\r\n                     }\r\n                  }\r\n               })\r\n               filteredArray = filteredArray.filter(function (value, index) {\r\n                  return timeTypeIndexes.indexOf(index) == -1;\r\n               })\r\n            }\r\n\r\n            // urgency type\r\n\r\n            if (this.pickedUrgencyType !== ' ') {\r\n               let urgencyTypeIndexes = []\r\n               filteredArray.forEach(appoint => {\r\n                  if (this.pickedUrgencyType !== ' ') {\r\n                     let index = filteredArray.indexOf(appoint)\r\n                     if (this.pickedUrgencyType !== appoint.urgencyType) {\r\n                        urgencyTypeIndexes.push(index)\r\n                     }\r\n                  }\r\n               })\r\n               filteredArray = filteredArray.filter(function (value, index) {\r\n                  return urgencyTypeIndexes.indexOf(index) == -1;\r\n               })\r\n            }\r\n\r\n            // operation type\r\n            if (this.pickedOperationType !== ' ') {\r\n               let operationTypeIndexes = []\r\n               filteredArray.forEach(appoint => {\r\n                  if (this.operationType !== ' ') {\r\n                     let index = filteredArray.indexOf(appoint)\r\n                     if (this.pickedOperationType !== appoint.operationType) {\r\n                        operationTypeIndexes.push(index)\r\n                     }\r\n                  }\r\n               })\r\n               filteredArray = filteredArray.filter(function (value, index) {\r\n                  return operationTypeIndexes.indexOf(index) == -1;\r\n               })\r\n            }\r\n\r\n            // anasthesia type\r\n\r\n            if (this.pickedAnesthesiaType !== ' ') {\r\n               let anesthesiaTypeIndexes = []\r\n               filteredArray.forEach(appoint => {\r\n                  if (this.pickedAnesthesiaType !== ' ') {\r\n                     let index = filteredArray.indexOf(appoint)\r\n                     if (this.pickedAnesthesiaType !== appoint.anesthesiaType) {\r\n                        anesthesiaTypeIndexes.push(index)\r\n                     }\r\n                  }\r\n               })\r\n               filteredArray = filteredArray.filter(function (value, index) {\r\n                  return anesthesiaTypeIndexes.indexOf(index) == -1;\r\n               })\r\n            }\r\n\r\n            // spot type\r\n            if (this.pickedSpotType !== ' ') {\r\n               let spotTypeIndexes = []\r\n               filteredArray.forEach(appoint => {\r\n                  if (this.pickedSpotType !== ' ') {\r\n                     let index = filteredArray.indexOf(appoint)\r\n                     if (this.pickedSpotType !== appoint.spotType) {\r\n                        spotTypeIndexes.push(index)\r\n                     }\r\n                  }\r\n               })\r\n               filteredArray = filteredArray.filter(function (value, index) {\r\n                  return spotTypeIndexes.indexOf(index) == -1;\r\n               })\r\n            }\r\n\r\n            // ultimate type\r\n            if (this.picekdUltimateType !== ' ') {\r\n               let ultimateTypeIndexes = []\r\n               filteredArray.forEach(appoint => {\r\n                  if (this.picekdUltimateType !== ' ') {\r\n                     let index = filteredArray.indexOf(appoint)\r\n                     if(appoint.ultimateType != undefined){\r\n                        if (this.picekdUltimateType !== appoint.ultimateType) {\r\n                        ultimateTypeIndexes.push(index)\r\n                        }\r\n                     } else {\r\n                        ultimateTypeIndexes.push(index)\r\n                     }\r\n                     \r\n                  }\r\n               })\r\n               filteredArray = filteredArray.filter(function (value, index) {\r\n                  return ultimateTypeIndexes.indexOf(index) == -1;\r\n               })\r\n            }\r\n\r\n            // name and lastName\r\n            if (this.searchName.trim() !== '') {\r\n               let arrOfIndexes = []\r\n               filteredArray.forEach(appoint => {\r\n                  if (this.searchName.trim() !== '') {\r\n                     let privateName = `${appoint.user.firstName} ${appoint.user.lastName}`\r\n\r\n                     let index = filteredArray.indexOf(appoint)\r\n                     if (privateName.toLowerCase().includes(this.searchName.toLowerCase()) == false) {\r\n                        arrOfIndexes.push(index)\r\n\r\n                     }\r\n                  }\r\n               })\r\n               filteredArray = filteredArray.filter(function (value, index) {\r\n                  return arrOfIndexes.indexOf(index) == -1;\r\n               })\r\n            }\r\n            // age \r\n            if (this.searchAge.trim() !== '') {\r\n               let arrOfAgeIndexes = []\r\n               filteredArray.forEach(appoint => {\r\n                  if (this.searchAge.trim() !== '') {\r\n\r\n                     let index = filteredArray.indexOf(appoint)\r\n                     if (appoint.age.toString().toLowerCase().includes(this.searchAge.toLowerCase()) == false) {\r\n                        arrOfAgeIndexes.push(index)\r\n\r\n                     }\r\n                  }\r\n               })\r\n               filteredArray = filteredArray.filter(function (value, index) {\r\n                  return arrOfAgeIndexes.indexOf(index) == -1;\r\n               })\r\n            }\r\n            // op_number\r\n            if (this.searchOp_number.trim() !== '') {\r\n               let op_numberArray = []\r\n               filteredArray.forEach(appoint => {\r\n                  if (this.searchOp_number.trim() !== '') {\r\n                     let index = filteredArray.indexOf(appoint)\r\n                     if(appoint.op_number_of_counter != undefined){\r\n                        if (appoint.op_number_of_counter.toString().toLowerCase().includes(this.searchOp_number.toLowerCase()) == false) {\r\n                        op_numberArray.push(index)\r\n                     } \r\n                     } else {\r\n                        console.log(appoint.op_number)\r\n                        console.log('pushed')\r\n                        op_numberArray.push(index)\r\n                     }\r\n                     \r\n                  }\r\n               })\r\n               filteredArray = filteredArray.filter(function (value, index) {\r\n                  return op_numberArray.indexOf(index) == -1;\r\n               })\r\n            }\r\n            // sickness history\r\n            if (this.searchSicknessHistory.trim() !== '') {\r\n               let sickArray = []\r\n               filteredArray.forEach(appoint => {\r\n                  if (this.searchSicknessHistory.trim() !== '') {\r\n                     let index = filteredArray.indexOf(appoint)\r\n                     if (appoint.sicknessHistory.toLowerCase().includes(this.searchSicknessHistory.toLowerCase()) == false) {\r\n                        sickArray.push(index)\r\n\r\n                     }\r\n                  }\r\n               })\r\n               filteredArray = filteredArray.filter(function (value, index) {\r\n                  return sickArray.indexOf(index) == -1;\r\n               })\r\n            }\r\n            // ultimate diagnosis\r\n            if (this.searchDiagnosisUltimate.trim() !== '') {\r\n               let diagArray = []\r\n               filteredArray.forEach(appoint => {\r\n                  if (this.searchDiagnosisUltimate.trim() !== '') {\r\n                     let index = filteredArray.indexOf(appoint)\r\n                     if(appoint.diagnosisUltimate != undefined){\r\n                        if (appoint.diagnosisUltimate.toLowerCase().includes(this.searchDiagnosisUltimate.toLowerCase()) == false) {\r\n                        diagArray.push(index)\r\n                     } \r\n                     } else {\r\n                        diagArray.push(index)\r\n                     }\r\n                     \r\n                  }\r\n               })\r\n               filteredArray = filteredArray.filter(function (value, index) {\r\n                  return diagArray.indexOf(index) == -1;\r\n               })\r\n            }\r\n\r\n            // Operation Date\r\n            if (this.readyDate !== null) {\r\n               let arrayOfNextIndexes = []\r\n\r\n               filteredArray.forEach(appoint => {\r\n                  if (this.readyDate !== null) {\r\n                     let index = filteredArray.indexOf(appoint)\r\n                     let newDate1\r\n                     let newDate2\r\n\r\n                     if (this.readyDate.length < 3 && this.readyDate[0].toString().substr(0, 15) != this.readyDate[1].toString().substr(0, 15)) {\r\n                        const date1 = new Date(this.readyDate[0])\r\n                        const date2 = new Date(this.readyDate[1])\r\n                        if(date1 < date2){\r\n                           newDate1 = date1\r\n                           newDate2 = date2\r\n                        } else {\r\n                           newDate1 = date2\r\n                           newDate2 = date1\r\n                        }\r\n                        if (appoint.date.toDate() < newDate1|| appoint.date.toDate() > newDate2) {\r\n                           console.log(appoint.date.toDate())\r\n                           console.log(this.readyDate[0])\r\n                           arrayOfNextIndexes.push(index)\r\n                        }\r\n                     } else if(this.readyDate[1] == undefined){\r\n                        if (appoint.date.toDate().toString().substr(0, 15) != this.readyDate.toString().substr(0, 15)) {\r\n                           arrayOfNextIndexes.push(index)\r\n                        }\r\n                     } else {\r\n                        if (appoint.date.toDate().toString().substr(0, 15) != this.readyDate[0].toString().substr(0, 15)) {\r\n                           arrayOfNextIndexes.push(index)\r\n                     } \r\n                     }\r\n\r\n                  }\r\n               })\r\n               filteredArray = filteredArray.filter(function (value, index) {\r\n                  return arrayOfNextIndexes.indexOf(index) == -1;\r\n               })\r\n            }\r\n\r\n            // Date Entry\r\n\r\n            if (this.readyDateEntry !== null) {\r\n               let arrayOfDateEntryIndexes = []\r\n               filteredArray.forEach(appoint => {\r\n                  if (this.readyDateEntry !== null) {\r\n                     let index = filteredArray.indexOf(appoint)\r\n                     let newDate1\r\n                     let newDate2\r\n                     if (this.readyDateEntry.length < 3 && this.readyDateEntry[0].toString().substr(0, 15) != this.readyDateEntry[1].toString().substr(0, 15)) {\r\n\r\n                        const date1 = new Date(this.readyDateEntry[0])\r\n                        const date2 = new Date(this.readyDateEntry[1])\r\n                        if(date1 < date2){\r\n                           newDate1 = date1\r\n                           newDate2 = date2\r\n                        } else {\r\n                           newDate1 = date2\r\n                           newDate2 = date1\r\n                        }\r\n                        if (appoint.dateEntry.toDate() < newDate1 || appoint.dateEntry.toDate() > newDate2) {\r\n                           arrayOfDateEntryIndexes.push(index)\r\n                        }\r\n                     } else if(this.readyDateEntry[1] == undefined){\r\n                        if (appoint.dateEntry.toDate().toString().substr(0, 15) != this.readyDateEntry.toString().substr(0, 15)) {\r\n                           arrayOfDateEntryIndexes.push(index)\r\n                     } \r\n                     } else {\r\n                        if (appoint.dateEntry.toDate().toString().substr(0, 15) != this.readyDateEntry[0].toString().substr(0, 15)) {\r\n                           arrayOfDateEntryIndexes.push(index)\r\n                     } \r\n                     }\r\n                        \r\n                  }\r\n               })\r\n               filteredArray = filteredArray.filter(function (value, index) {\r\n                  return arrayOfDateEntryIndexes.indexOf(index) == -1;\r\n               })\r\n            }\r\n\r\n            // date left\r\n\r\n            if (this.readyDateLeft !== null) {\r\n               let arrayOfDateLeftIndexes = []\r\n\r\n               filteredArray.forEach(appoint => {\r\n                  if (this.readyDateLeft !== null || appoint.dateLeft != undefined) {\r\n                     let index = filteredArray.indexOf(appoint)\r\n                     let newDate1\r\n                     let newDate2\r\n                     if (this.readyDateLeft.length < 3 && this.readyDateLeft[0].toString().substr(0, 15) != this.readyDateLeft[1].toString().substr(0, 15)) {\r\n                        const date1 = new Date(this.readyDateLeft[0])\r\n                        const date2 = new Date(this.readyDateLeft[1])\r\n                        if(date1 < date2){\r\n                           newDate1 = date1\r\n                           newDate2 = date2\r\n                        } else {\r\n                           newDate1 = date2\r\n                           newDate2 = date1\r\n                        }\r\n                        if (appoint.dateLeft.toDate() < newDate1 || appoint.dateLeft.toDate() > newDate2) {\r\n                           arrayOfDateLeftIndexes.push(index)\r\n                        }\r\n                     } else if(this.readyDateLeft[1] == undefined){\r\n                        if (appoint.dateLeft.toDate().toString().substr(0, 15) != this.readyDateLeft.toString().substr(0, 15)) {\r\n                           arrayOfDateLeftIndexes.push(index)\r\n                        }\r\n                     } else{\r\n                        if (appoint.dateLeft.toDate().toString().substr(0, 15) != this.readyDateLeft[0].toString().substr(0, 15)) {\r\n                           arrayOfDateLeftIndexes.push(index)\r\n                     } \r\n                     }\r\n\r\n                  } else if(appoint.dateLeft == undefined){\r\n                     let index = filteredArray.indexOf(appoint)\r\n                      arrayOfDateLeftIndexes.push(index)\r\n                  }\r\n               })\r\n               filteredArray = filteredArray.filter(function (value, index) {\r\n                  return arrayOfDateLeftIndexes.indexOf(index) == -1;\r\n               })\r\n            }\r\n\r\n            return filteredArray\r\n         }\r\n\r\n      },\r\n      rankItems() {\r\n         let retArr = [\r\n            ' ',\r\n            ...this.$store.getters.rankItems\r\n         ]\r\n         return retArr\r\n      },\r\n      timeTypeItems() {\r\n         let retArr = [\r\n            ' ',\r\n            ...this.$store.getters.timeTypeItems\r\n         ]\r\n         return retArr\r\n      },\r\n      urgencyTypeItems() {\r\n         let retArr = [\r\n            ' ',\r\n            ...this.$store.getters.urgencyTypeItems\r\n         ]\r\n         return retArr\r\n      },\r\n      operationTypeItems() {\r\n         let retArr = [\r\n            ' ',\r\n            ...this.$store.getters.operationTypeItems\r\n         ]\r\n         return retArr\r\n      },\r\n      anesthesiaTypeItems() {\r\n         let retArr = [\r\n            ' ',\r\n            ...this.$store.getters.anesthesiaTypeItems\r\n         ]\r\n         return retArr\r\n      },\r\n      spotTypeItems() {\r\n         let retArr = [\r\n            ' ',\r\n            ...this.$store.getters.spotTypeItems\r\n         ]\r\n         return retArr\r\n      },\r\n      ultimateTypeItems() {\r\n         let retArr = [\r\n            ' ',\r\n            ...this.$store.getters.ultimateTypeItems\r\n         ]\r\n         return retArr\r\n      },\r\n      anesthesiologistItems() {\r\n         let retArr = [\r\n            ' ',\r\n            ...this.$store.getters.anesthesiologistItems\r\n         ]\r\n         return retArr\r\n      },\r\n      medsisterItems() {\r\n         let retArr = [\r\n            ' ',\r\n            ...this.$store.getters.medsisterItems\r\n         ]\r\n         return retArr\r\n      },\r\n\r\n   },\r\n   methods: {\r\n      onOpenSingle(id) {\r\n         this.$router.push('/appointment/' + id)\r\n      },\r\n      onOpenSingleRelease(id) {\r\n         this.$router.push('/appointmentRelease/' + id)\r\n      },\r\n      sumOfBeforeBeds() {\r\n         let sumOfBeds = 0\r\n         this.filteredAppointments.forEach(appoint => {\r\n            let numberOfTime = appoint.date.toDate().getTime() - appoint.dateEntry.toDate().getTime()\r\n            numberOfTime = numberOfTime / (1000 * 3600 * 24)\r\n            console.log(numberOfTime)\r\n            sumOfBeds += parseInt(numberOfTime, 10)\r\n         })\r\n         this.showSum = sumOfBeds\r\n      },\r\n      sumOfAfterBeds() {\r\n         let sumOfAfterBeds = 0\r\n         this.filteredAppointments.forEach(appoint => {\r\n            let numberOfTime = appoint.dateLeft.toDate().getTime() - appoint.date.toDate().getTime()\r\n            numberOfTime = numberOfTime / (1000 * 3600 * 24)\r\n            console.log(numberOfTime)\r\n            sumOfAfterBeds += parseInt(numberOfTime, 10)\r\n         })\r\n         this.showSumAfter = sumOfAfterBeds\r\n      },\r\n      onArchive() {\r\n         this.isArchive = !this.isArchive\r\n      },\r\n      onClose() {\r\n         if (this.editDialog) {\r\n            this.pickedDate = [new Date().toISOString().substr(0, 10)]\r\n            this.editDialog = false\r\n         } else if (this.editDialog1) {\r\n            this.pickedDateEntry = [new Date().toISOString().substr(0, 10)]\r\n            this.editDialog1 = false\r\n         } else if (this.editDialog2) {\r\n            this.pickedDateLeft = [new Date().toISOString().substr(0, 10)]\r\n            this.editDialog2 = false\r\n         }\r\n\r\n      },\r\n      clearDate() {\r\n         this.readyDate = null\r\n         this.pickedDate = new Date().toISOString().substr(0, 10)\r\n      },\r\n      onSaveChanges() {\r\n         if (this.pickedDate !== null) {\r\n            if (this.pickedDate.length > 1) {\r\n               this.readyDate = []\r\n               const newDate1 = new Date(new Date())\r\n               const newDay1 = new Date(this.pickedDate[0]).getUTCDate()\r\n               const newMonth1 = new Date(this.pickedDate[0]).getUTCMonth()\r\n               const newYear1 = new Date(this.pickedDate[0]).getUTCFullYear()\r\n               newDate1.setUTCDate(newDay1)\r\n               newDate1.setUTCMonth(newMonth1)\r\n               newDate1.setUTCFullYear(newYear1)\r\n               newDate1.setUTCHours(-3)\r\n               newDate1.setUTCMinutes(0)\r\n               newDate1.setUTCSeconds(0)\r\n               const newDate2 = new Date(new Date())\r\n               const newDay2 = new Date(this.pickedDate[1]).getUTCDate()\r\n               const newMonth2 = new Date(this.pickedDate[1]).getUTCMonth()\r\n               const newYear2 = new Date(this.pickedDate[1]).getUTCFullYear()\r\n               newDate2.setUTCDate(newDay2)\r\n               newDate2.setUTCMonth(newMonth2)\r\n               newDate2.setUTCFullYear(newYear2)\r\n               newDate2.setUTCHours(20)\r\n               newDate2.setUTCMinutes(59)\r\n               newDate2.setUTCSeconds(59)\r\n               console.log(newDate1)\r\n               console.log(newDate2)\r\n               this.readyDate.push(newDate1, newDate2)\r\n               // console.log(this.readyDate)\r\n            } else {\r\n               console.log(this.pickedDate)\r\n               const newDate = new Date(new Date())\r\n               const newDay = new Date(this.pickedDate).getUTCDate()\r\n               const newMonth = new Date(this.pickedDate).getUTCMonth()\r\n               const newYear = new Date(this.pickedDate).getUTCFullYear()\r\n               newDate.setUTCDate(newDay)\r\n               newDate.setUTCMonth(newMonth)\r\n               newDate.setUTCFullYear(newYear)\r\n               this.readyDate = newDate\r\n               console.log(this.readyDate)\r\n               // console.log(this.readyDate.toISOString().substr(0,10))\r\n               // console.log(this.readyDate.toString().substr(0, 15))\r\n            }\r\n         }\r\n\r\n      },\r\n      onSaveChangesEntry() {\r\n         if (this.pickedDateEntry !== null) {\r\n            if (this.pickedDateEntry.length > 1) {\r\n               this.readyDateEntry = []\r\n               const newDate1 = new Date(new Date())\r\n               const newDay1 = new Date(this.pickedDateEntry[0]).getUTCDate()\r\n               const newMonth1 = new Date(this.pickedDateEntry[0]).getUTCMonth()\r\n               const newYear1 = new Date(this.pickedDateEntry[0]).getUTCFullYear()\r\n               newDate1.setUTCDate(newDay1)\r\n               newDate1.setUTCMonth(newMonth1)\r\n               newDate1.setUTCFullYear(newYear1)\r\n               newDate1.setUTCHours(-3)\r\n               newDate1.setUTCMinutes(0)\r\n               newDate1.setUTCSeconds(0)\r\n               const newDate2 = new Date(new Date())\r\n               const newDay2 = new Date(this.pickedDateEntry[1]).getUTCDate()\r\n               const newMonth2 = new Date(this.pickedDateEntry[1]).getUTCMonth()\r\n               const newYear2 = new Date(this.pickedDateEntry[1]).getUTCFullYear()\r\n               newDate2.setUTCDate(newDay2)\r\n               newDate2.setUTCMonth(newMonth2)\r\n               newDate2.setUTCFullYear(newYear2)\r\n               newDate2.setUTCHours(20)\r\n               newDate2.setUTCMinutes(59)\r\n               newDate2.setUTCSeconds(59)\r\n               console.log(newDate1)\r\n               console.log(newDate2)\r\n               this.readyDateEntry.push(newDate1, newDate2)\r\n               // console.log(this.readyDate)\r\n            } else {\r\n               console.log(this.pickedDateEntry)\r\n               const newDate = new Date(new Date())\r\n               const newDay = new Date(this.pickedDateEntry).getUTCDate()\r\n               const newMonth = new Date(this.pickedDateEntry).getUTCMonth()\r\n               const newYear = new Date(this.pickedDateEntry).getUTCFullYear()\r\n               newDate.setUTCDate(newDay)\r\n               newDate.setUTCMonth(newMonth)\r\n               newDate.setUTCFullYear(newYear)\r\n               this.readyDateEntry = newDate\r\n               console.log(this.readyDateEntry)\r\n               // console.log(this.readyDate.toISOString().substr(0,10))\r\n               // console.log(this.readyDate.toString().substr(0, 15))\r\n            }\r\n         }\r\n\r\n      },\r\n      onSaveChangesLeft() {\r\n         if (this.pickedDateLeft !== null) {\r\n            if (this.pickedDateLeft.length > 1) {\r\n               this.readyDateLeft = []\r\n               const newDate1 = new Date(new Date())\r\n               const newDay1 = new Date(this.pickedDateLeft[0]).getUTCDate()\r\n               const newMonth1 = new Date(this.pickedDateLeft[0]).getUTCMonth()\r\n               const newYear1 = new Date(this.pickedDateLeft[0]).getUTCFullYear()\r\n               newDate1.setUTCDate(newDay1)\r\n               newDate1.setUTCMonth(newMonth1)\r\n               newDate1.setUTCFullYear(newYear1)\r\n               newDate1.setUTCHours(-3)\r\n               newDate1.setUTCMinutes(0)\r\n               newDate1.setUTCSeconds(0)\r\n               const newDate2 = new Date(new Date())\r\n               const newDay2 = new Date(this.pickedDateLeft[1]).getUTCDate()\r\n               const newMonth2 = new Date(this.pickedDateLeft[1]).getUTCMonth()\r\n               const newYear2 = new Date(this.pickedDateLeft[1]).getUTCFullYear()\r\n               newDate2.setUTCDate(newDay2)\r\n               newDate2.setUTCMonth(newMonth2)\r\n               newDate2.setUTCFullYear(newYear2)\r\n               newDate2.setUTCHours(20)\r\n               newDate2.setUTCMinutes(59)\r\n               newDate2.setUTCSeconds(59)\r\n               console.log(newDate1)\r\n               console.log(newDate2)\r\n               this.readyDateLeft.push(newDate1, newDate2)\r\n               // console.log(this.readyDate)\r\n            } else {\r\n               console.log(this.pickedDateLeft)\r\n               const newDate = new Date(new Date())\r\n               const newDay = new Date(this.pickedDateLeft).getUTCDate()\r\n               const newMonth = new Date(this.pickedDateLeft).getUTCMonth()\r\n               const newYear = new Date(this.pickedDateLeft).getUTCFullYear()\r\n               newDate.setUTCDate(newDay)\r\n               newDate.setUTCMonth(newMonth)\r\n               newDate.setUTCFullYear(newYear)\r\n               this.readyDateLeft = newDate\r\n               console.log(this.readyDateLeft)\r\n               // console.log(this.readyDate.toISOString().substr(0,10))\r\n               // console.log(this.readyDate.toString().substr(0, 15))\r\n            }\r\n         }\r\n\r\n      },\r\n      closeFilter() {\r\n         this.readyDate = null\r\n         this.isFilter = !this.isFilter\r\n         this.pickedDate = [new Date().toISOString().substr(0, 10)]\r\n         this.readyDateEntry = null\r\n         this.pickedDateEntry = [new Date().toISOString().substr(0, 10)]\r\n         this.readyDateLeft = null\r\n         this.pickedDateLeft = [new Date().toISOString().substr(0, 10)]\r\n         this.searchName = ''\r\n         this.searchTitle = ''\r\n         this.pickedSurgeon = ' '\r\n         this.searchOp_number = ''\r\n         this.pickedRank = ' '\r\n         this.showSum = ''\r\n         this.showSumAfter = ''\r\n         this.searchOp_code = ''\r\n         this.searchComplexity = ''\r\n         this.searchNozologia = ''\r\n         this.pickedTimeType = ' '\r\n         this.pickedUrgencyType = ' '\r\n         this.pickedOperationType = ' '\r\n         this.pickedAnesthesiaType = ' '\r\n         this.pickedSpotType = ' '\r\n         this.picekdUltimateType = ' '\r\n         this.pickedAssistant = ' '\r\n         this.pickedAnesthesiologist = ' '\r\n         this.pickedMedsister = ' '\r\n         this.searchAge = ''\r\n         this.searchSicknessHistory = ''\r\n         this.searchDiagnosisUltimate = ''\r\n      },\r\n      clearFilter() {\r\n         this.readyDate = null\r\n         this.pickedDate = [new Date().toISOString().substr(0, 10)]\r\n         this.readyDateEntry = null\r\n         this.pickedDateEntry = [new Date().toISOString().substr(0, 10)]\r\n         this.readyDateLeft = null\r\n         this.pickedDateLeft = [new Date().toISOString().substr(0, 10)]\r\n         this.searchName = ''\r\n         this.searchTitle = ''\r\n         this.pickedSurgeon = ' '\r\n         this.searchOp_number = ''\r\n         this.pickedRank = ' '\r\n         this.showSum = ''\r\n         this.showSumAfter = ''\r\n         this.searchOp_code = ''\r\n         this.searchComplexity = ''\r\n         this.searchNozologia = ''\r\n         this.pickedTimeType = ' '\r\n         this.pickedUrgencyType = ' '\r\n         this.pickedOperationType = ' '\r\n         this.pickedAnesthesiaType = ' '\r\n         this.pickedSpotType = ' '\r\n         this.picekdUltimateType = ' '\r\n         this.pickedAssistant = ' '\r\n         this.pickedAnesthesiologist = ' '\r\n         this.pickedMedsister = ' ',\r\n         this.searchAge = ''\r\n         this.searchSicknessHistory = ''\r\n         this.searchDiagnosisUltimate = ''\r\n      }\r\n   },\r\n   data: () => ({\r\n      isArchive: true,\r\n      showSum: '',\r\n      showSumAfter: '',\r\n      pickedSurgeon: ' ',\r\n      searchName: '',\r\n      searchTitle: '',\r\n      editDialog: false,\r\n      editDialog1: false,\r\n      editDialog2: false,\r\n      pickedDate: [new Date().toISOString().substr(0, 10)],\r\n      pickedDateEntry: [new Date().toISOString().substr(0, 10)],\r\n      pickedDateLeft: [new Date().toISOString().substr(0, 10)],\r\n      readyDate: null,\r\n      readyDateEntry: null,\r\n      readyDateLeft: null,\r\n      isFilter: true,\r\n      searchOp_number: '',\r\n      searchOp_code: '',\r\n      searchComplexity: '',\r\n      searchNozologia: '',\r\n      pickedRank: ' ',\r\n      pickedTimeType: ' ',\r\n      pickedUrgencyType: ' ',\r\n      pickedOperationType: ' ',\r\n      pickedAnesthesiaType: ' ',\r\n      pickedSpotType: ' ',\r\n      picekdUltimateType: ' ',\r\n      pickedAssistant: ' ',\r\n      pickedAnesthesiologist: ' ',\r\n      pickedMedsister: ' ',\r\n      updatedAge: false,\r\n      searchAge: '',\r\n      searchSicknessHistory: '',\r\n      searchDiagnosisUltimate: ''\r\n\r\n   }),\r\n   created() {\r\n      this.$store.dispatch('loadAppointments')\r\n   },\r\n   // mounted() {\r\n   //    setTimeout(() => {\r\n   //       if (this.$store.state.isUpdatedAge == false) {\r\n   //          this.$store.commit('setUpdatedAge', true)\r\n   //          const date = new Date()\r\n   //          this.allAppointments.forEach(appoint => {\r\n   //             let ageNumber = Math.floor((date.getTime() - appoint.dateAge.toDate().getTime()) / (1000 * 3600 * 24 * 365))\r\n   //             this.$store.dispatch('updatePost', {\r\n   //                id: appoint.id,\r\n   //                age: ageNumber,\r\n   //                notToLoading: 'yes'\r\n   //             })\r\n   //          })\r\n   //       }\r\n   //    }, 500)\r\n   // }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.btn-archive {\r\n   text-align: center;\r\n   font-size: 18px;\r\n   padding: 7px;\r\n   margin-right: 15px;\r\n   width: 170px;\r\n   margin-top: 13px;\r\n}\r\n\r\n.appo-div {\r\n   margin-bottom: 8px;\r\n   margin-right: 15px;\r\n   width: 340px;\r\n}\r\n\r\n.section {\r\n   display: flex;\r\n   flex-wrap: wrap;\r\n   padding: 5px;\r\n   justify-content: flex-start;\r\n\r\n}\r\n.layoutTT{\r\n   padding: 10px;\r\n   display: flex;\r\n}\r\n.layout-unit{\r\n   padding: 7px;\r\n   padding-bottom: 0px;\r\n   margin-bottom: -8px!important;\r\n   box-shadow: 0px 0px 24px 0px rgba(0, 0, 0, 0.17);\r\n   background-color: #ffffff;\r\n   margin: 3px;\r\n   margin-bottom: -2px;\r\n   flex: 23%;\r\n}\r\n.appo-title{\r\n   color: #0D47A1;\r\n   padding: 10px;\r\n   font-weight: 700;\r\n   padding-bottom: 2px;\r\n   margin-left: 5px;\r\n}\r\n.appo-unit{\r\n   color: #000000;\r\n   \r\n   display: block;\r\n   \r\n}\r\n.layoutsec{\r\n   justify-content: flex-start;\r\n}\r\n.info__button{\r\n   font-size: 18px;\r\n   padding: 7px;\r\n   width: 305px;\r\n   margin-left: 12px;\r\n   margin-top: 10px;\r\n   margin-bottom: 0;\r\n}\r\n.buttons__section{\r\n   justify-content: flex-start;\r\n   margin-bottom: 15px;\r\n}\r\n\r\n@media (max-width: 360px) {\r\n   .appo-div {\r\n      margin-bottom: 15px;\r\n      margin-right: 0;\r\n      width: 260px;\r\n   }\r\n}\r\n\r\n@media (min-width: 361px) and (max-width: 390px) {\r\n   .appo-div {\r\n      margin-bottom: 15px;\r\n      margin-right: 0;\r\n      width: 300px;\r\n   }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n   .section {\r\n      justify-content: center;\r\n   }\r\n}\r\n@media (max-width: 800px) {\r\n   .layout-unit{\r\n   flex: 30%;\r\n}\r\n}\r\n@media (max-width: 600px) {\r\n   .layout-unit{\r\n   flex: 48%;\r\n}\r\n}\r\n@media (max-width: 400px) {\r\n   .layout-unit{\r\n   flex: 100%;\r\n   }\r\n   .btn-archive {\r\n   margin-bottom: 15px;\r\n}\r\n}\r\n</style>"]}]}